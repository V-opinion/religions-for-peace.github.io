var CommerceJS=function(Ae){"use strict";var ru=Object.defineProperty;var nu=(Ae,Oe,Pe)=>Oe in Ae?ru(Ae,Oe,{enumerable:!0,configurable:!0,writable:!0,value:Pe}):Ae[Oe]=Pe;var ht=(Ae,Oe,Pe)=>nu(Ae,typeof Oe!="symbol"?Oe+"":Oe,Pe);var Oe={colors:{grey:{50:"var(--sovrn-commerce-ez1ck68)",100:"var(--sovrn-commerce-ez1ck69)",200:"var(--sovrn-commerce-ez1ck6a)",300:"var(--sovrn-commerce-ez1ck6b)",400:"var(--sovrn-commerce-ez1ck6c)",500:"var(--sovrn-commerce-ez1ck6d)",600:"var(--sovrn-commerce-ez1ck6e)",700:"var(--sovrn-commerce-ez1ck6f)",800:"var(--sovrn-commerce-ez1ck6g)",900:"var(--sovrn-commerce-ez1ck6h)"}}},Pe,L,xn,qe,An,On,Or,Pr,Lr,Dr,pt={},Pn=[],Ts=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,Zt=Array.isArray;function Ne(t,e){for(var r in e)t[r]=e[r];return t}function Ln(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Ur(t,e,r){var o,n,s,a={};for(s in e)s=="key"?o=e[s]:s=="ref"?n=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?Pe.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return Ht(t,a,o,n,null)}function Ht(t,e,r,o,n){var s={type:t,props:e,key:r,ref:o,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:n??++xn,__i:-1,__u:0};return n==null&&L.vnode!=null&&L.vnode(s),s}function qt(){return{current:null}}function ze(t){return t.children}function ye(t,e){this.props=t,this.context=e}function nt(t,e){if(e==null)return t.__?nt(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?nt(t):null}function Dn(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Dn(t)}}function Un(t){(!t.__d&&(t.__d=!0)&&qe.push(t)&&!Kt.__r++||An!==L.debounceRendering)&&((An=L.debounceRendering)||On)(Kt)}function Kt(){var t,e,r,o,n,s,a,i;for(qe.sort(Or);t=qe.shift();)t.__d&&(e=qe.length,o=void 0,s=(n=(r=t).__v).__e,a=[],i=[],r.__P&&((o=Ne({},n)).__v=n.__v+1,L.vnode&&L.vnode(o),Nr(r.__P,o,n,r.__n,r.__P.namespaceURI,32&n.__u?[s]:null,a,s??nt(n),!!(32&n.__u),i),o.__v=n.__v,o.__.__k[o.__i]=o,Mn(a,o,i),o.__e!=s&&Dn(o)),qe.length>e&&qe.sort(Or));Kt.__r=0}function Nn(t,e,r,o,n,s,a,i,c,u,l){var m,d,h,v,_,y=o&&o.__k||Pn,R=e.length;for(r.__d=c,xs(r,e,y),c=r.__d,m=0;m<R;m++)(h=r.__k[m])!=null&&(d=h.__i===-1?pt:y[h.__i]||pt,h.__i=m,Nr(t,h,d,n,s,a,i,c,u,l),v=h.__e,h.ref&&d.ref!=h.ref&&(d.ref&&zr(d.ref,null,h),l.push(h.ref,h.__c||v,h)),_==null&&v!=null&&(_=v),65536&h.__u||d.__k===h.__k?c=zn(h,c,t):typeof h.type=="function"&&h.__d!==void 0?c=h.__d:v&&(c=v.nextSibling),h.__d=void 0,h.__u&=-196609);r.__d=c,r.__e=_}function xs(t,e,r){var o,n,s,a,i,c=e.length,u=r.length,l=u,m=0;for(t.__k=[],o=0;o<c;o++)(n=e[o])!=null&&typeof n!="boolean"&&typeof n!="function"?(a=o+m,(n=t.__k[o]=typeof n=="string"||typeof n=="number"||typeof n=="bigint"||n.constructor==String?Ht(null,n,null,null,null):Zt(n)?Ht(ze,{children:n},null,null,null):n.constructor===void 0&&n.__b>0?Ht(n.type,n.props,n.key,n.ref?n.ref:null,n.__v):n).__=t,n.__b=t.__b+1,s=null,(i=n.__i=As(n,r,a,l))!==-1&&(l--,(s=r[i])&&(s.__u|=131072)),s==null||s.__v===null?(i==-1&&m--,typeof n.type!="function"&&(n.__u|=65536)):i!==a&&(i==a-1?m--:i==a+1?m++:(i>a?m--:m++,n.__u|=65536))):n=t.__k[o]=null;if(l)for(o=0;o<u;o++)(s=r[o])!=null&&!(131072&s.__u)&&(s.__e==t.__d&&(t.__d=nt(s)),$n(s,s))}function zn(t,e,r){var o,n;if(typeof t.type=="function"){for(o=t.__k,n=0;o&&n<o.length;n++)o[n]&&(o[n].__=t,e=zn(o[n],e,r));return e}t.__e!=e&&(e&&t.type&&!r.contains(e)&&(e=nt(t)),r.insertBefore(t.__e,e||null),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType===8);return e}function Vt(t,e){return e=e||[],t==null||typeof t=="boolean"||(Zt(t)?t.some(function(r){Vt(r,e)}):e.push(t)),e}function As(t,e,r,o){var n=t.key,s=t.type,a=r-1,i=r+1,c=e[r];if(c===null||c&&n==c.key&&s===c.type&&!(131072&c.__u))return r;if(o>(c!=null&&!(131072&c.__u)?1:0))for(;a>=0||i<e.length;){if(a>=0){if((c=e[a])&&!(131072&c.__u)&&n==c.key&&s===c.type)return a;a--}if(i<e.length){if((c=e[i])&&!(131072&c.__u)&&n==c.key&&s===c.type)return i;i++}}return-1}function jn(t,e,r){e[0]==="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||Ts.test(e)?r:r+"px"}function Yt(t,e,r,o,n){var s;e:if(e==="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof o=="string"&&(t.style.cssText=o=""),o)for(e in o)r&&e in r||jn(t.style,e,"");if(r)for(e in r)o&&r[e]===o[e]||jn(t.style,e,r[e])}else if(e[0]==="o"&&e[1]==="n")s=e!==(e=e.replace(/(PointerCapture)$|Capture$/i,"$1")),e=e.toLowerCase()in t||e==="onFocusOut"||e==="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?o?r.u=o.u:(r.u=Pr,t.addEventListener(e,s?Dr:Lr,s)):t.removeEventListener(e,s?Dr:Lr,s);else{if(n=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!=="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function In(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=Pr++;else if(e.t<r.u)return;return r(L.event?L.event(e):e)}}}function Nr(t,e,r,o,n,s,a,i,c,u){var l,m,d,h,v,_,y,R,T,j,K,ft,Ft,ks,xr,Tn,xe=e.type;if(e.constructor!==void 0)return null;128&r.__u&&(c=!!(32&r.__u),s=[i=e.__e=r.__e]),(l=L.__b)&&l(e);e:if(typeof xe=="function")try{if(R=e.props,T="prototype"in xe&&xe.prototype.render,j=(l=xe.contextType)&&o[l.__c],K=l?j?j.props.value:l.__:o,r.__c?y=(m=e.__c=r.__c).__=m.__E:(T?e.__c=m=new xe(R,K):(e.__c=m=new ye(R,K),m.constructor=xe,m.render=Ps),j&&j.sub(m),m.props=R,m.state||(m.state={}),m.context=K,m.__n=o,d=m.__d=!0,m.__h=[],m._sb=[]),T&&m.__s==null&&(m.__s=m.state),T&&xe.getDerivedStateFromProps!=null&&(m.__s==m.state&&(m.__s=Ne({},m.__s)),Ne(m.__s,xe.getDerivedStateFromProps(R,m.__s))),h=m.props,v=m.state,m.__v=e,d)T&&xe.getDerivedStateFromProps==null&&m.componentWillMount!=null&&m.componentWillMount(),T&&m.componentDidMount!=null&&m.__h.push(m.componentDidMount);else{if(T&&xe.getDerivedStateFromProps==null&&R!==h&&m.componentWillReceiveProps!=null&&m.componentWillReceiveProps(R,K),!m.__e&&(m.shouldComponentUpdate!=null&&m.shouldComponentUpdate(R,m.__s,K)===!1||e.__v===r.__v)){for(e.__v!==r.__v&&(m.props=R,m.state=m.__s,m.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(Ar){Ar&&(Ar.__=e)}),ft=0;ft<m._sb.length;ft++)m.__h.push(m._sb[ft]);m._sb=[],m.__h.length&&a.push(m);break e}m.componentWillUpdate!=null&&m.componentWillUpdate(R,m.__s,K),T&&m.componentDidUpdate!=null&&m.__h.push(function(){m.componentDidUpdate(h,v,_)})}if(m.context=K,m.props=R,m.__P=t,m.__e=!1,Ft=L.__r,ks=0,T){for(m.state=m.__s,m.__d=!1,Ft&&Ft(e),l=m.render(m.props,m.state,m.context),xr=0;xr<m._sb.length;xr++)m.__h.push(m._sb[xr]);m._sb=[]}else do m.__d=!1,Ft&&Ft(e),l=m.render(m.props,m.state,m.context),m.state=m.__s;while(m.__d&&++ks<25);m.state=m.__s,m.getChildContext!=null&&(o=Ne(Ne({},o),m.getChildContext())),T&&!d&&m.getSnapshotBeforeUpdate!=null&&(_=m.getSnapshotBeforeUpdate(h,v)),Nn(t,Zt(Tn=l!=null&&l.type===ze&&l.key==null?l.props.children:l)?Tn:[Tn],e,r,o,n,s,a,i,c,u),m.base=e.__e,e.__u&=-161,m.__h.length&&a.push(m),y&&(m.__E=m.__=null)}catch(Ar){if(e.__v=null,c||s!=null){for(e.__u|=c?160:32;i&&i.nodeType===8&&i.nextSibling;)i=i.nextSibling;s[s.indexOf(i)]=null,e.__e=i}else e.__e=r.__e,e.__k=r.__k;L.__e(Ar,e,r)}else s==null&&e.__v===r.__v?(e.__k=r.__k,e.__e=r.__e):e.__e=Os(r.__e,e,r,o,n,s,a,c,u);(l=L.diffed)&&l(e)}function Mn(t,e,r){e.__d=void 0;for(var o=0;o<r.length;o++)zr(r[o],r[++o],r[++o]);L.__c&&L.__c(e,t),t.some(function(n){try{t=n.__h,n.__h=[],t.some(function(s){s.call(n)})}catch(s){L.__e(s,n.__v)}})}function Os(t,e,r,o,n,s,a,i,c){var u,l,m,d,h,v,_,y=r.props,R=e.props,T=e.type;if(T==="svg"?n="http://www.w3.org/2000/svg":T==="math"?n="http://www.w3.org/1998/Math/MathML":n||(n="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((h=s[u])&&"setAttribute"in h==!!T&&(T?h.localName===T:h.nodeType===3)){t=h,s[u]=null;break}}if(t==null){if(T===null)return document.createTextNode(R);t=document.createElementNS(n,T,R.is&&R),i&&(L.__m&&L.__m(e,s),i=!1),s=null}if(T===null)y===R||i&&t.data===R||(t.data=R);else{if(s=s&&Pe.call(t.childNodes),y=r.props||pt,!i&&s!=null)for(y={},u=0;u<t.attributes.length;u++)y[(h=t.attributes[u]).name]=h.value;for(u in y)if(h=y[u],u!="children"){if(u=="dangerouslySetInnerHTML")m=h;else if(!(u in R)){if(u=="value"&&"defaultValue"in R||u=="checked"&&"defaultChecked"in R)continue;Yt(t,u,null,h,n)}}for(u in R)h=R[u],u=="children"?d=h:u=="dangerouslySetInnerHTML"?l=h:u=="value"?v=h:u=="checked"?_=h:i&&typeof h!="function"||y[u]===h||Yt(t,u,h,y[u],n);if(l)i||m&&(l.__html===m.__html||l.__html===t.innerHTML)||(t.innerHTML=l.__html),e.__k=[];else if(m&&(t.innerHTML=""),Nn(t,Zt(d)?d:[d],e,r,o,T==="foreignObject"?"http://www.w3.org/1999/xhtml":n,s,a,s?s[0]:r.__k&&nt(r,0),i,c),s!=null)for(u=s.length;u--;)Ln(s[u]);i||(u="value",T==="progress"&&v==null?t.removeAttribute("value"):v!==void 0&&(v!==t[u]||T==="progress"&&!v||T==="option"&&v!==y[u])&&Yt(t,u,v,y[u],n),u="checked",_!==void 0&&_!==t[u]&&Yt(t,u,_,y[u],n))}return t}function zr(t,e,r){try{if(typeof t=="function"){var o=typeof t.__u=="function";o&&t.__u(),o&&e==null||(t.__u=t(e))}else t.current=e}catch(n){L.__e(n,r)}}function $n(t,e,r){var o,n;if(L.unmount&&L.unmount(t),(o=t.ref)&&(o.current&&o.current!==t.__e||zr(o,null,e)),(o=t.__c)!=null){if(o.componentWillUnmount)try{o.componentWillUnmount()}catch(s){L.__e(s,e)}o.base=o.__P=null}if(o=t.__k)for(n=0;n<o.length;n++)o[n]&&$n(o[n],e,r||typeof t.type!="function");r||Ln(t.__e),t.__c=t.__=t.__e=t.__d=void 0}function Ps(t,e,r){return this.constructor(t,r)}function Ls(t,e,r){var o,n,s,a;L.__&&L.__(t,e),n=(o=!1)?null:e.__k,s=[],a=[],Nr(e,t=e.__k=Ur(ze,null,[t]),n||pt,pt,e.namespaceURI,n?null:e.firstChild?Pe.call(e.childNodes):null,s,n?n.__e:e.firstChild,o,a),Mn(s,t,a)}Pe=Pn.slice,L={__e:function(t,e,r,o){for(var n,s,a;e=e.__;)if((n=e.__c)&&!n.__)try{if((s=n.constructor)&&s.getDerivedStateFromError!=null&&(n.setState(s.getDerivedStateFromError(t)),a=n.__d),n.componentDidCatch!=null&&(n.componentDidCatch(t,o||{}),a=n.__d),a)return n.__E=n}catch(i){t=i}throw t}},xn=0,ye.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Ne({},this.state),typeof t=="function"&&(t=t(Ne({},r),this.props)),t&&Ne(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),Un(this))},ye.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),Un(this))},ye.prototype.render=ze,qe=[],On=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Or=function(t,e){return t.__v.__b-e.__v.__b},Kt.__r=0,Pr=0,Lr=In(!1),Dr=In(!0);var jr;(jr=typeof globalThis<"u"?globalThis:typeof window<"u"?window:void 0)!=null&&jr.__PREACT_DEVTOOLS__&&jr.__PREACT_DEVTOOLS__.attachPreact("10.24.0",L,{Fragment:ze,Component:ye});var Ds=0;function k(t,e,r,o,n,s){e||(e={});var a,i,c=e;if("ref"in c)for(i in c={},e)i=="ref"?a=e[i]:c[i]=e[i];var u={type:t,props:c,key:r,ref:a,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,constructor:void 0,__v:--Ds,__i:-1,__u:0,__source:n,__self:s};if(typeof t=="function"&&(a=t.defaultProps))for(i in a)c[i]===void 0&&(c[i]=a[i]);return L.vnode&&L.vnode(u),u}const ne=Symbol.for("@ts-pattern/matcher"),Bn=Symbol.for("@ts-pattern/isVariadic"),Jt="@ts-pattern/anonymous-select-key",Ir=t=>!!(t&&typeof t=="object"),Xt=t=>t&&!!t[ne],W=(t,e,r)=>{if(Xt(t)){const o=t[ne](),{matched:n,selections:s}=o.match(e);return n&&s&&Object.keys(s).forEach(a=>r(a,s[a])),n}if(Ir(t)){if(!Ir(e))return!1;if(Array.isArray(t)){if(!Array.isArray(e))return!1;let o=[],n=[],s=[];for(const a of t.keys()){const i=t[a];Xt(i)&&i[Bn]?s.push(i):s.length?n.push(i):o.push(i)}if(s.length){if(s.length>1)throw new Error("Pattern error: Using `...P.array(...)` several times in a single pattern is not allowed.");if(e.length<o.length+n.length)return!1;const a=e.slice(0,o.length),i=n.length===0?[]:e.slice(-n.length),c=e.slice(o.length,n.length===0?1/0:-n.length);return o.every((u,l)=>W(u,a[l],r))&&n.every((u,l)=>W(u,i[l],r))&&(s.length===0||W(s[0],c,r))}return t.length===e.length&&t.every((a,i)=>W(a,e[i],r))}return Reflect.ownKeys(t).every(o=>{const n=t[o];return(o in e||Xt(s=n)&&s[ne]().matcherType==="optional")&&W(n,e[o],r);var s})}return Object.is(e,t)},ce=t=>{var e,r,o;return Ir(t)?Xt(t)?(e=(r=(o=t[ne]()).getSelectionKeys)==null?void 0:r.call(o))!=null?e:[]:Array.isArray(t)?_t(t,ce):_t(Object.values(t),ce):[]},_t=(t,e)=>t.reduce((r,o)=>r.concat(e(o)),[]);function Us(...t){if(t.length===1){const[e]=t;return r=>W(e,r,()=>{})}if(t.length===2){const[e,r]=t;return W(e,r,()=>{})}throw new Error(`isMatching wasn't given the right number of arguments: expected 1 or 2, received ${t.length}.`)}function F(t){return Object.assign(t,{optional:()=>$r(t),and:e=>I(t,e),or:e=>Gn(t,e),select:e=>e===void 0?vt(t):vt(e,t)})}function Mr(t){return Object.assign((e=>Object.assign(e,{[Symbol.iterator](){let r=0;const o=[{value:Object.assign(e,{[Bn]:!0}),done:!1},{done:!0,value:void 0}];return{next:()=>{var n;return(n=o[r++])!=null?n:o.at(-1)}}}}))(t),{optional:()=>Mr($r(t)),select:e=>Mr(e===void 0?vt(t):vt(e,t))})}function $r(t){return F({[ne]:()=>({match:e=>{let r={};const o=(n,s)=>{r[n]=s};return e===void 0?(ce(t).forEach(n=>o(n,void 0)),{matched:!0,selections:r}):{matched:W(t,e,o),selections:r}},getSelectionKeys:()=>ce(t),matcherType:"optional"})})}const Ns=(t,e)=>{for(const r of t)if(!e(r))return!1;return!0},zs=(t,e)=>{for(const[r,o]of t.entries())if(!e(o,r))return!1;return!0};function I(...t){return F({[ne]:()=>({match:e=>{let r={};const o=(n,s)=>{r[n]=s};return{matched:t.every(n=>W(n,e,o)),selections:r}},getSelectionKeys:()=>_t(t,ce),matcherType:"and"})})}function Gn(...t){return F({[ne]:()=>({match:e=>{let r={};const o=(n,s)=>{r[n]=s};return _t(t,ce).forEach(n=>o(n,void 0)),{matched:t.some(n=>W(n,e,o)),selections:r}},getSelectionKeys:()=>_t(t,ce),matcherType:"or"})})}function N(t){return{[ne]:()=>({match:e=>({matched:!!t(e)})})}}function vt(...t){const e=typeof t[0]=="string"?t[0]:void 0,r=t.length===2?t[1]:typeof t[0]=="string"?void 0:t[0];return F({[ne]:()=>({match:o=>{let n={[e??Jt]:o};return{matched:r===void 0||W(r,o,(s,a)=>{n[s]=a}),selections:n}},getSelectionKeys:()=>[e??Jt].concat(r===void 0?[]:ce(r))})})}function be(t){return typeof t=="number"}function je(t){return typeof t=="string"}function Ie(t){return typeof t=="bigint"}const Wn=F(N(function(t){return!0})),js=Wn,Me=t=>Object.assign(F(t),{startsWith:e=>{return Me(I(t,(r=e,N(o=>je(o)&&o.startsWith(r)))));var r},endsWith:e=>{return Me(I(t,(r=e,N(o=>je(o)&&o.endsWith(r)))));var r},minLength:e=>Me(I(t,(r=>N(o=>je(o)&&o.length>=r))(e))),length:e=>Me(I(t,(r=>N(o=>je(o)&&o.length===r))(e))),maxLength:e=>Me(I(t,(r=>N(o=>je(o)&&o.length<=r))(e))),includes:e=>{return Me(I(t,(r=e,N(o=>je(o)&&o.includes(r)))));var r},regex:e=>{return Me(I(t,(r=e,N(o=>je(o)&&!!o.match(r)))));var r}}),Is=Me(N(je)),we=t=>Object.assign(F(t),{between:(e,r)=>we(I(t,((o,n)=>N(s=>be(s)&&o<=s&&n>=s))(e,r))),lt:e=>we(I(t,(r=>N(o=>be(o)&&o<r))(e))),gt:e=>we(I(t,(r=>N(o=>be(o)&&o>r))(e))),lte:e=>we(I(t,(r=>N(o=>be(o)&&o<=r))(e))),gte:e=>we(I(t,(r=>N(o=>be(o)&&o>=r))(e))),int:()=>we(I(t,N(e=>be(e)&&Number.isInteger(e)))),finite:()=>we(I(t,N(e=>be(e)&&Number.isFinite(e)))),positive:()=>we(I(t,N(e=>be(e)&&e>0))),negative:()=>we(I(t,N(e=>be(e)&&e<0)))}),Ms=we(N(be)),$e=t=>Object.assign(F(t),{between:(e,r)=>$e(I(t,((o,n)=>N(s=>Ie(s)&&o<=s&&n>=s))(e,r))),lt:e=>$e(I(t,(r=>N(o=>Ie(o)&&o<r))(e))),gt:e=>$e(I(t,(r=>N(o=>Ie(o)&&o>r))(e))),lte:e=>$e(I(t,(r=>N(o=>Ie(o)&&o<=r))(e))),gte:e=>$e(I(t,(r=>N(o=>Ie(o)&&o>=r))(e))),positive:()=>$e(I(t,N(e=>Ie(e)&&e>0))),negative:()=>$e(I(t,N(e=>Ie(e)&&e<0)))}),$s=$e(N(Ie)),Bs=F(N(function(t){return typeof t=="boolean"})),Gs=F(N(function(t){return typeof t=="symbol"})),Ws=F(N(function(t){return t==null})),Fs=F(N(function(t){return t!=null}));var ot={__proto__:null,matcher:ne,optional:$r,array:function(...t){return Mr({[ne]:()=>({match:e=>{if(!Array.isArray(e))return{matched:!1};if(t.length===0)return{matched:!0};const r=t[0];let o={};if(e.length===0)return ce(r).forEach(s=>{o[s]=[]}),{matched:!0,selections:o};const n=(s,a)=>{o[s]=(o[s]||[]).concat([a])};return{matched:e.every(s=>W(r,s,n)),selections:o}},getSelectionKeys:()=>t.length===0?[]:ce(t[0])})})},set:function(...t){return F({[ne]:()=>({match:e=>{if(!(e instanceof Set))return{matched:!1};let r={};if(e.size===0)return{matched:!0,selections:r};if(t.length===0)return{matched:!0};const o=(s,a)=>{r[s]=(r[s]||[]).concat([a])},n=t[0];return{matched:Ns(e,s=>W(n,s,o)),selections:r}},getSelectionKeys:()=>t.length===0?[]:ce(t[0])})})},map:function(...t){return F({[ne]:()=>({match:e=>{if(!(e instanceof Map))return{matched:!1};let r={};if(e.size===0)return{matched:!0,selections:r};const o=(i,c)=>{r[i]=(r[i]||[]).concat([c])};if(t.length===0)return{matched:!0};var n;if(t.length===1)throw new Error(`\`P.map\` wasn't given enough arguments. Expected (key, value), received ${(n=t[0])==null?void 0:n.toString()}`);const[s,a]=t;return{matched:zs(e,(i,c)=>{const u=W(s,c,o),l=W(a,i,o);return u&&l}),selections:r}},getSelectionKeys:()=>t.length===0?[]:[...ce(t[0]),...ce(t[1])]})})},intersection:I,union:Gn,not:function(t){return F({[ne]:()=>({match:e=>({matched:!W(t,e,()=>{})}),getSelectionKeys:()=>[],matcherType:"not"})})},when:N,select:vt,any:Wn,_:js,string:Is,number:Ms,bigint:$s,boolean:Bs,symbol:Gs,nullish:Ws,nonNullable:Fs,instanceOf:function(t){return F(N(function(e){return r=>r instanceof e}(t)))},shape:function(t){return F(N(Us(t)))}};class Zs extends Error{constructor(e){let r;try{r=JSON.stringify(e)}catch{r=e}super(`Pattern matching error: no pattern matches value ${r}`),this.input=void 0,this.input=e}}const Br={matched:!1,value:void 0};function $(t){return new Qt(t,Br)}class Qt{constructor(e,r){this.input=void 0,this.state=void 0,this.input=e,this.state=r}with(...e){if(this.state.matched)return this;const r=e[e.length-1],o=[e[0]];let n;e.length===3&&typeof e[1]=="function"?n=e[1]:e.length>2&&o.push(...e.slice(1,e.length-1));let s=!1,a={};const i=(u,l)=>{s=!0,a[u]=l},c=!o.some(u=>W(u,this.input,i))||n&&!n(this.input)?Br:{matched:!0,value:r(s?Jt in a?a[Jt]:a:this.input,this.input)};return new Qt(this.input,c)}when(e,r){if(this.state.matched)return this;const o=!!e(this.input);return new Qt(this.input,o?{matched:!0,value:r(this.input,this.input)}:Br)}otherwise(e){return this.state.matched?this.state.value:e(this.input)}exhaustive(){if(this.state.matched)return this.state.value;throw new Zs(this.input)}run(){return this.exhaustive()}returnType(){return this}}class Fn{constructor(e){ht(this,"logPrefix");ht(this,"timers",{});this.logPrefix=`[CommerceJS - ${e}]`}printLog(e,...r){}log(...e){this.printLog("log",...e)}info(...e){this.printLog("info",...e)}warn(...e){this.printLog("warn",...e)}error(...e){this.printLog("error",...e)}debug(...e){this.printLog("debug",...e)}startTimer(e){this.timers[e]=Date.now()}stopTimer(e){const r=this.timers[e];if(r){const n=Date.now()-r;delete this.timers[e];const s=Math.floor(n/6e4),a=Math.floor(n%6e4/1e3),i=`${e} completed in ${String(s).padStart(2,"0")}m:${String(a).padStart(2,"0")}s`;this.printLog("info",i)}else this.printLog("warn",`Timer: ${e} does not exist`)}}const Ke=t=>new Fn(t),ue=({name:t,message:e})=>{const r=new Error(e);return r.name=t,r};class Zn{constructor({baseUrl:e,config:r=()=>({headers:{"Content-Type":"application/json"}}),validate:o=!1}){ht(this,"baseUrl");ht(this,"config");ht(this,"validate");this.baseUrl=e,this.config=r,this.validate=o}getConfig(){return typeof this.config=="function"?this.config():this.config}async request(e,r,o){const n=await fetch(this.baseUrl+r,{method:e,...this.getConfig(),...o});return this.validate?Hs(n):await n.json()}get(e,r){return this.request("GET",e,r)}patch(e,r){return this.request("PATCH",e,r)}post(e,r){return this.request("POST",e,r)}put(e,r){return this.request("PUT",e,r)}delete(e,r){return this.request("DELETE",e,r)}}const Hs=(t,e="")=>{if(!t.ok)throw ue({name:"HTTP_ERROR",message:e||t.statusText});return t.json()},qs={VITE_AI_ORCHESTRATION_BASE_URL:"https://shopping-gallery.prd-commerce.sovrnservices.com",VITE_COMMERCEJS_DIST_BASE_URL:"https://d35m0nfeeqvaj5.cloudfront.net"},{VITE_AI_ORCHESTRATION_BASE_URL:Ks,VITE_COMMERCEJS_DIST_BASE_URL:Vs}=qs,er={aiOrchestrationBaseUrl:Ks,commerceJsDistBaseUrl:Vs},Ys=new Zn({baseUrl:`${er.aiOrchestrationBaseUrl}/ai-orchestration`,validate:!0,config:{headers:{"Content-Type":"application/json","X-API-Version":"v3"}}}),Js=new Zn({baseUrl:er.aiOrchestrationBaseUrl,validate:!0,config:{headers:{"Content-Type":"application/json","X-API-Version":"v3","X-Request-Source":"AIG"}}}),Xs=t=>{let e;const r=new Set,o=(u,l)=>{const m=typeof u=="function"?u(e):u;if(!Object.is(m,e)){const d=e;e=l??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(h=>h(e,d))}},n=()=>e,i={setState:o,getState:n,getInitialState:()=>c,subscribe:u=>(r.add(u),()=>r.delete(u))},c=e=t(o,n,i);return i},Qs=t=>Xs;var Hn=Symbol.for("immer-nothing"),qn=Symbol.for("immer-draftable"),le=Symbol.for("immer-state"),ea=[function(t){return`The plugin for '${t}' has not been loaded into Immer. To enable the plugin, import and call \`enable${t}()\` when initializing your application.`},function(t){return`produce can only be called on things that are draftable: plain objects, arrays, Map, Set or classes that are marked with '[immerable]: true'. Got '${t}'`},"This object has been frozen and should not be mutated",function(t){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+t},"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.","Immer forbids circular references","The first or second argument to `produce` must be a function","The third argument to `produce` must be a function or undefined","First argument to `createDraft` must be a plain object, an array, or an immerable object","First argument to `finishDraft` must be a draft returned by `createDraft`",function(t){return`'current' expects a draft, got: ${t}`},"Object.defineProperty() cannot be used on an Immer draft","Object.setPrototypeOf() cannot be used on an Immer draft","Immer only supports deleting array indices","Immer only supports setting array indices and the 'length' property",function(t){return`'original' expects a draft, got: ${t}`}];function oe(t,...e){{const r=ea[t],o=typeof r=="function"?r.apply(null,e):r;throw new Error(`[Immer] ${o}`)}}var st=Object.getPrototypeOf;function at(t){return!!t&&!!t[le]}function Ve(t){var e;return t?Kn(t)||Array.isArray(t)||!!t[qn]||!!((e=t.constructor)!=null&&e[qn])||nr(t)||or(t):!1}var ta=Object.prototype.constructor.toString();function Kn(t){if(!t||typeof t!="object")return!1;const e=st(t);if(e===null)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return r===Object?!0:typeof r=="function"&&Function.toString.call(r)===ta}function tr(t,e){rr(t)===0?Reflect.ownKeys(t).forEach(r=>{e(r,t[r],t)}):t.forEach((r,o)=>e(o,r,t))}function rr(t){const e=t[le];return e?e.type_:Array.isArray(t)?1:nr(t)?2:or(t)?3:0}function Gr(t,e){return rr(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Vn(t,e,r){const o=rr(t);o===2?t.set(e,r):o===3?t.add(r):t[e]=r}function ra(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function nr(t){return t instanceof Map}function or(t){return t instanceof Set}function Ye(t){return t.copy_||t.base_}function Wr(t,e){if(nr(t))return new Map(t);if(or(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=Kn(t);if(e===!0||e==="class_only"&&!r){const o=Object.getOwnPropertyDescriptors(t);delete o[le];let n=Reflect.ownKeys(o);for(let s=0;s<n.length;s++){const a=n[s],i=o[a];i.writable===!1&&(i.writable=!0,i.configurable=!0),(i.get||i.set)&&(o[a]={configurable:!0,writable:!0,enumerable:i.enumerable,value:t[a]})}return Object.create(st(t),o)}else{const o=st(t);if(o!==null&&r)return{...t};const n=Object.create(o);return Object.assign(n,t)}}function Fr(t,e=!1){return sr(t)||at(t)||!Ve(t)||(rr(t)>1&&(t.set=t.add=t.clear=t.delete=na),Object.freeze(t),e&&Object.entries(t).forEach(([r,o])=>Fr(o,!0))),t}function na(){oe(2)}function sr(t){return Object.isFrozen(t)}var oa={};function Je(t){const e=oa[t];return e||oe(0,t),e}var gt;function Yn(){return gt}function sa(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Jn(t,e){e&&(Je("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Zr(t){Hr(t),t.drafts_.forEach(aa),t.drafts_=null}function Hr(t){t===gt&&(gt=t.parent_)}function Xn(t){return gt=sa(gt,t)}function aa(t){const e=t[le];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Qn(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[le].modified_&&(Zr(e),oe(4)),Ve(t)&&(t=ar(e,t),e.parent_||ir(e,t)),e.patches_&&Je("Patches").generateReplacementPatches_(r[le].base_,t,e.patches_,e.inversePatches_)):t=ar(e,r,[]),Zr(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Hn?t:void 0}function ar(t,e,r){if(sr(e))return e;const o=e[le];if(!o)return tr(e,(n,s)=>eo(t,o,e,n,s,r)),e;if(o.scope_!==t)return e;if(!o.modified_)return ir(t,o.base_,!0),o.base_;if(!o.finalized_){o.finalized_=!0,o.scope_.unfinalizedDrafts_--;const n=o.copy_;let s=n,a=!1;o.type_===3&&(s=new Set(n),n.clear(),a=!0),tr(s,(i,c)=>eo(t,o,n,i,c,r,a)),ir(t,n,!1),r&&t.patches_&&Je("Patches").generatePatches_(o,r,t.patches_,t.inversePatches_)}return o.copy_}function eo(t,e,r,o,n,s,a){if(n===r&&oe(5),at(n)){const i=s&&e&&e.type_!==3&&!Gr(e.assigned_,o)?s.concat(o):void 0,c=ar(t,n,i);if(Vn(r,o,c),at(c))t.canAutoFreeze_=!1;else return}else a&&r.add(n);if(Ve(n)&&!sr(n)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;ar(t,n),(!e||!e.scope_.parent_)&&typeof o!="symbol"&&Object.prototype.propertyIsEnumerable.call(r,o)&&ir(t,n)}}function ir(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Fr(e,r)}function ia(t,e){const r=Array.isArray(t),o={type_:r?1:0,scope_:e?e.scope_:Yn(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let n=o,s=qr;r&&(n=[o],s=yt);const{revoke:a,proxy:i}=Proxy.revocable(n,s);return o.draft_=i,o.revoke_=a,i}var qr={get(t,e){if(e===le)return t;const r=Ye(t);if(!Gr(r,e))return ca(t,r,e);const o=r[e];return t.finalized_||!Ve(o)?o:o===Kr(t.base_,e)?(Yr(t),t.copy_[e]=Jr(o,t)):o},has(t,e){return e in Ye(t)},ownKeys(t){return Reflect.ownKeys(Ye(t))},set(t,e,r){const o=to(Ye(t),e);if(o!=null&&o.set)return o.set.call(t.draft_,r),!0;if(!t.modified_){const n=Kr(Ye(t),e),s=n==null?void 0:n[le];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(ra(r,n)&&(r!==void 0||Gr(t.base_,e)))return!0;Yr(t),Vr(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return Kr(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,Yr(t),Vr(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ye(t),o=Reflect.getOwnPropertyDescriptor(r,e);return o&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:o.enumerable,value:r[e]}},defineProperty(){oe(11)},getPrototypeOf(t){return st(t.base_)},setPrototypeOf(){oe(12)}},yt={};tr(qr,(t,e)=>{yt[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}}),yt.deleteProperty=function(t,e){return isNaN(parseInt(e))&&oe(13),yt.set.call(this,t,e,void 0)},yt.set=function(t,e,r){return e!=="length"&&isNaN(parseInt(e))&&oe(14),qr.set.call(this,t[0],e,r,t[0])};function Kr(t,e){const r=t[le];return(r?Ye(r):t)[e]}function ca(t,e,r){var n;const o=to(e,r);return o?"value"in o?o.value:(n=o.get)==null?void 0:n.call(t.draft_):void 0}function to(t,e){if(!(e in t))return;let r=st(t);for(;r;){const o=Object.getOwnPropertyDescriptor(r,e);if(o)return o;r=st(r)}}function Vr(t){t.modified_||(t.modified_=!0,t.parent_&&Vr(t.parent_))}function Yr(t){t.copy_||(t.copy_=Wr(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var ua=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,r,o)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(c=s,...u){return a.produce(c,l=>r.call(this,l,...u))}}typeof r!="function"&&oe(6),o!==void 0&&typeof o!="function"&&oe(7);let n;if(Ve(e)){const s=Xn(this),a=Jr(e,void 0);let i=!0;try{n=r(a),i=!1}finally{i?Zr(s):Hr(s)}return Jn(s,o),Qn(n,s)}else if(!e||typeof e!="object"){if(n=r(e),n===void 0&&(n=e),n===Hn&&(n=void 0),this.autoFreeze_&&Fr(n,!0),o){const s=[],a=[];Je("Patches").generateReplacementPatches_(e,n,s,a),o(s,a)}return n}else oe(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...i)=>this.produceWithPatches(a,c=>e(c,...i));let o,n;return[this.produce(e,r,(a,i)=>{o=a,n=i}),o,n]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){Ve(t)||oe(8),at(t)&&(t=la(t));const e=Xn(this),r=Jr(t,void 0);return r[le].isManual_=!0,Hr(e),r}finishDraft(t,e){const r=t&&t[le];(!r||!r.isManual_)&&oe(9);const{scope_:o}=r;return Jn(o,e),Qn(void 0,o)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const n=e[r];if(n.path.length===0&&n.op==="replace"){t=n.value;break}}r>-1&&(e=e.slice(r+1));const o=Je("Patches").applyPatches_;return at(t)?o(t,e):this.produce(t,n=>o(n,e))}};function Jr(t,e){const r=nr(t)?Je("MapSet").proxyMap_(t,e):or(t)?Je("MapSet").proxySet_(t,e):ia(t,e);return(e?e.scope_:Yn()).drafts_.push(r),r}function la(t){return at(t)||oe(10,t),ro(t)}function ro(t){if(!Ve(t)||sr(t))return t;const e=t[le];let r;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Wr(t,e.scope_.immer_.useStrictShallowCopy_)}else r=Wr(t,!0);return tr(r,(o,n)=>{Vn(r,o,ro(n))}),e&&(e.finalized_=!1),r}var de=new ua,da=de.produce;de.produceWithPatches.bind(de),de.setAutoFreeze.bind(de),de.setUseStrictShallowCopy.bind(de),de.applyPatches.bind(de),de.createDraft.bind(de),de.finishDraft.bind(de);const ma=t=>(e,r,o)=>(o.setState=(n,s,...a)=>{const i=typeof n=="function"?da(n):n;return e(i,s,...a)},t(o.setState,r,o)),no={BASE_URL:"./",DEV:!1,MODE:"prd",PROD:!0,SSR:!1,VITE_AI_ORCHESTRATION_BASE_URL:"https://shopping-gallery.prd-commerce.sovrnservices.com",VITE_COMMERCEJS_DIST_BASE_URL:"https://d35m0nfeeqvaj5.cloudfront.net"},Xr=new Map,cr=t=>{const e=Xr.get(t);return e?Object.fromEntries(Object.entries(e.stores).map(([r,o])=>[r,o.getState()])):{}},fa=(t,e,r)=>{if(t===void 0)return{type:"untracked",connection:e.connect(r)};const o=Xr.get(r.name);if(o)return{type:"tracked",store:t,...o};const n={connection:e.connect(r),stores:{}};return Xr.set(r.name,n),{type:"tracked",store:t,...n}},ha=(t,e={})=>(r,o,n)=>{const{enabled:s,anonymousActionType:a,store:i,...c}=e;let u;try{u=(s??(no?"prd":void 0)!=="production")&&window.__REDUX_DEVTOOLS_EXTENSION__}catch{}if(!u)return t(r,o,n);const{connection:l,...m}=fa(i,u,c);let d=!0;n.setState=(_,y,R)=>{const T=r(_,y);if(!d)return T;const j=R===void 0?{type:a||"anonymous"}:typeof R=="string"?{type:R}:R;return i===void 0?(l==null||l.send(j,o()),T):(l==null||l.send({...j,type:`${i}/${j.type}`},{...cr(c.name),[i]:n.getState()}),T)};const h=(..._)=>{const y=d;d=!1,r(..._),d=y},v=t(n.setState,o,n);if(m.type==="untracked"?l==null||l.init(v):(m.stores[m.store]=n,l==null||l.init(Object.fromEntries(Object.entries(m.stores).map(([_,y])=>[_,_===m.store?v:y.getState()])))),n.dispatchFromDevtools&&typeof n.dispatch=="function"){let _=!1;const y=n.dispatch;n.dispatch=(...R)=>{(no?"prd":void 0)!=="production"&&R[0].type==="__setState"&&!_&&(console.warn('[zustand devtools middleware] "__setState" action type is reserved to set state from the devtools. Avoid using it.'),_=!0),y(...R)}}return l.subscribe(_=>{var y;switch(_.type){case"ACTION":if(typeof _.payload!="string"){console.error("[zustand devtools middleware] Unsupported action format");return}return Qr(_.payload,R=>{if(R.type==="__setState"){if(i===void 0){h(R.state);return}Object.keys(R.state).length!==1&&console.error(`
                    [zustand devtools middleware] Unsupported __setState action format.
                    When using 'store' option in devtools(), the 'state' should have only one key, which is a value of 'store' that was passed in devtools(),
                    and value of this only key should be a state object. Example: { "type": "__setState", "state": { "abc123Store": { "foo": "bar" } } }
                    `);const T=R.state[i];if(T==null)return;JSON.stringify(n.getState())!==JSON.stringify(T)&&h(T);return}n.dispatchFromDevtools&&typeof n.dispatch=="function"&&n.dispatch(R)});case"DISPATCH":switch(_.payload.type){case"RESET":return h(v),i===void 0?l==null?void 0:l.init(n.getState()):l==null?void 0:l.init(cr(c.name));case"COMMIT":if(i===void 0){l==null||l.init(n.getState());return}return l==null?void 0:l.init(cr(c.name));case"ROLLBACK":return Qr(_.state,R=>{if(i===void 0){h(R),l==null||l.init(n.getState());return}h(R[i]),l==null||l.init(cr(c.name))});case"JUMP_TO_STATE":case"JUMP_TO_ACTION":return Qr(_.state,R=>{if(i===void 0){h(R);return}JSON.stringify(n.getState())!==JSON.stringify(R[i])&&h(R[i])});case"IMPORT_STATE":{const{nextLiftedState:R}=_.payload,T=(y=R.computedStates.slice(-1)[0])==null?void 0:y.state;if(!T)return;h(i===void 0?T:T[i]),l==null||l.send(null,R);return}case"PAUSE_RECORDING":return d=!d}return}}),v},Qr=(t,e)=>{let r;try{r=JSON.parse(t)}catch(o){console.error("[zustand devtools middleware] Could not parse the received json",o)}r!==void 0&&e(r)},pa=t=>(e,r,o)=>{const n=o.subscribe;return o.subscribe=(a,i,c)=>{let u=a;if(i){const l=(c==null?void 0:c.equalityFn)||Object.is;let m=a(o.getState());u=d=>{const h=a(d);if(!l(m,h)){const v=m;i(m=h,v)}},c!=null&&c.fireImmediately&&i(m,m)}return n(u)},t(e,r,o)};function _a(t,e){let r;try{r=t()}catch{return}return{getItem:n=>{var s;const a=c=>c===null?null:JSON.parse(c,void 0),i=(s=r.getItem(n))!=null?s:null;return i instanceof Promise?i.then(a):a(i)},setItem:(n,s)=>r.setItem(n,JSON.stringify(s,void 0)),removeItem:n=>r.removeItem(n)}}const en=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(o){return en(o)(r)},catch(o){return this}}}catch(r){return{then(o){return this},catch(o){return en(o)(r)}}}},va=(t,e)=>(r,o,n)=>{let s={storage:_a(()=>localStorage),partialize:_=>_,version:0,merge:(_,y)=>({...y,..._}),...e},a=!1;const i=new Set,c=new Set;let u=s.storage;if(!u)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),r(..._)},o,n);const l=()=>{const _=s.partialize({...o()});return u.setItem(s.name,{state:_,version:s.version})},m=n.setState;n.setState=(_,y)=>{m(_,y),l()};const d=t((..._)=>{r(..._),l()},o,n);n.getInitialState=()=>d;let h;const v=()=>{var _,y;if(!u)return;a=!1,i.forEach(T=>{var j;return T((j=o())!=null?j:d)});const R=((y=s.onRehydrateStorage)==null?void 0:y.call(s,(_=o())!=null?_:d))||void 0;return en(u.getItem.bind(u))(s.name).then(T=>{if(T)if(typeof T.version=="number"&&T.version!==s.version){if(s.migrate){const j=s.migrate(T.state,T.version);return j instanceof Promise?j.then(K=>[!0,K]):[!0,j]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,T.state];return[!1,void 0]}).then(T=>{var j;const[K,ft]=T;if(h=s.merge(ft,(j=o())!=null?j:d),r(h,!0),K)return l()}).then(()=>{R==null||R(h,void 0),h=o(),a=!0,c.forEach(T=>T(h))}).catch(T=>{R==null||R(void 0,T)})};return n.persist={setOptions:_=>{s={...s,..._},_.storage&&(u=_.storage)},clearStorage:()=>{u==null||u.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:_=>(i.add(_),()=>{i.delete(_)}),onFinishHydration:_=>(c.add(_),()=>{c.delete(_)})},s.skipHydration||v(),h||d};var z;(function(t){t.assertEqual=n=>n;function e(n){}t.assertIs=e;function r(n){throw new Error}t.assertNever=r,t.arrayToEnum=n=>{const s={};for(const a of n)s[a]=a;return s},t.getValidEnumValues=n=>{const s=t.objectKeys(n).filter(i=>typeof n[n[i]]!="number"),a={};for(const i of s)a[i]=n[i];return t.objectValues(a)},t.objectValues=n=>t.objectKeys(n).map(function(s){return n[s]}),t.objectKeys=typeof Object.keys=="function"?n=>Object.keys(n):n=>{const s=[];for(const a in n)Object.prototype.hasOwnProperty.call(n,a)&&s.push(a);return s},t.find=(n,s)=>{for(const a of n)if(s(a))return a},t.isInteger=typeof Number.isInteger=="function"?n=>Number.isInteger(n):n=>typeof n=="number"&&isFinite(n)&&Math.floor(n)===n;function o(n,s=" | "){return n.map(a=>typeof a=="string"?`'${a}'`:a).join(s)}t.joinValues=o,t.jsonStringifyReplacer=(n,s)=>typeof s=="bigint"?s.toString():s})(z||(z={}));var tn;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(tn||(tn={}));const C=z.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Be=t=>{switch(typeof t){case"undefined":return C.undefined;case"string":return C.string;case"number":return isNaN(t)?C.nan:C.number;case"boolean":return C.boolean;case"function":return C.function;case"bigint":return C.bigint;case"symbol":return C.symbol;case"object":return Array.isArray(t)?C.array:t===null?C.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?C.promise:typeof Map<"u"&&t instanceof Map?C.map:typeof Set<"u"&&t instanceof Set?C.set:typeof Date<"u"&&t instanceof Date?C.date:C.object;default:return C.unknown}},E=z.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),ga=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class me extends Error{constructor(e){super(),this.issues=[],this.addIssue=o=>{this.issues=[...this.issues,o]},this.addIssues=(o=[])=>{this.issues=[...this.issues,...o]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},o={_errors:[]},n=s=>{for(const a of s.issues)if(a.code==="invalid_union")a.unionErrors.map(n);else if(a.code==="invalid_return_type")n(a.returnTypeError);else if(a.code==="invalid_arguments")n(a.argumentsError);else if(a.path.length===0)o._errors.push(r(a));else{let i=o,c=0;for(;c<a.path.length;){const u=a.path[c];c===a.path.length-1?(i[u]=i[u]||{_errors:[]},i[u]._errors.push(r(a))):i[u]=i[u]||{_errors:[]},i=i[u],c++}}};return n(this),o}static assert(e){if(!(e instanceof me))throw new Error(`Not a ZodError: ${e}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,z.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},o=[];for(const n of this.issues)n.path.length>0?(r[n.path[0]]=r[n.path[0]]||[],r[n.path[0]].push(e(n))):o.push(e(n));return{formErrors:o,fieldErrors:r}}get formErrors(){return this.flatten()}}me.create=t=>new me(t);const it=(t,e)=>{let r;switch(t.code){case E.invalid_type:t.received===C.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case E.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,z.jsonStringifyReplacer)}`;break;case E.unrecognized_keys:r=`Unrecognized key(s) in object: ${z.joinValues(t.keys,", ")}`;break;case E.invalid_union:r="Invalid input";break;case E.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${z.joinValues(t.options)}`;break;case E.invalid_enum_value:r=`Invalid enum value. Expected ${z.joinValues(t.options)}, received '${t.received}'`;break;case E.invalid_arguments:r="Invalid function arguments";break;case E.invalid_return_type:r="Invalid function return type";break;case E.invalid_date:r="Invalid date";break;case E.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:z.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case E.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case E.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case E.custom:r="Invalid input";break;case E.invalid_intersection_types:r="Intersection results could not be merged";break;case E.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case E.not_finite:r="Number must be finite";break;default:r=e.defaultError,z.assertNever(t)}return{message:r}};let oo=it;function ya(t){oo=t}function ur(){return oo}const lr=t=>{const{data:e,path:r,errorMaps:o,issueData:n}=t,s=[...r,...n.path||[]],a={...n,path:s};if(n.message!==void 0)return{...n,path:s,message:n.message};let i="";const c=o.filter(u=>!!u).slice().reverse();for(const u of c)i=u(a,{data:e,defaultError:i}).message;return{...n,path:s,message:i}},ba=[];function S(t,e){const r=ur(),o=lr({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,r,r===it?void 0:it].filter(n=>!!n)});t.common.issues.push(o)}class Z{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const o=[];for(const n of r){if(n.status==="aborted")return O;n.status==="dirty"&&e.dirty(),o.push(n.value)}return{status:e.value,value:o}}static async mergeObjectAsync(e,r){const o=[];for(const n of r){const s=await n.key,a=await n.value;o.push({key:s,value:a})}return Z.mergeObjectSync(e,o)}static mergeObjectSync(e,r){const o={};for(const n of r){const{key:s,value:a}=n;if(s.status==="aborted"||a.status==="aborted")return O;s.status==="dirty"&&e.dirty(),a.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof a.value<"u"||n.alwaysSet)&&(o[s.value]=a.value)}return{status:e.value,value:o}}}const O=Object.freeze({status:"aborted"}),ct=t=>({status:"dirty",value:t}),V=t=>({status:"valid",value:t}),rn=t=>t.status==="aborted",nn=t=>t.status==="dirty",bt=t=>t.status==="valid",wt=t=>typeof Promise<"u"&&t instanceof Promise;function dr(t,e,r,o){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return e.get(t)}function so(t,e,r,o,n){if(typeof e=="function"?t!==e||!0:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return e.set(t,r),r}typeof SuppressedError=="function"&&SuppressedError;var x;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e==null?void 0:e.message})(x||(x={}));var Et,St;class Ee{constructor(e,r,o,n){this._cachedPath=[],this.parent=e,this.data=r,this._path=o,this._key=n}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const ao=(t,e)=>{if(bt(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new me(t.common.issues);return this._error=r,this._error}}};function D(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:o,description:n}=t;if(e&&(r||o))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:n}:{errorMap:(a,i)=>{var c,u;const{message:l}=t;return a.code==="invalid_enum_value"?{message:l??i.defaultError}:typeof i.data>"u"?{message:(c=l??o)!==null&&c!==void 0?c:i.defaultError}:a.code!=="invalid_type"?{message:i.defaultError}:{message:(u=l??r)!==null&&u!==void 0?u:i.defaultError}},description:n}}class U{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Be(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Z,ctx:{common:e.parent.common,data:e.data,parsedType:Be(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(wt(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const o=this.safeParse(e,r);if(o.success)return o.data;throw o.error}safeParse(e,r){var o;const n={common:{issues:[],async:(o=r==null?void 0:r.async)!==null&&o!==void 0?o:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Be(e)},s=this._parseSync({data:e,path:n.path,parent:n});return ao(n,s)}async parseAsync(e,r){const o=await this.safeParseAsync(e,r);if(o.success)return o.data;throw o.error}async safeParseAsync(e,r){const o={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Be(e)},n=this._parse({data:e,path:o.path,parent:o}),s=await(wt(n)?n:Promise.resolve(n));return ao(o,s)}refine(e,r){const o=n=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(n):r;return this._refinement((n,s)=>{const a=e(n),i=()=>s.addIssue({code:E.custom,...o(n)});return typeof Promise<"u"&&a instanceof Promise?a.then(c=>c?!0:(i(),!1)):a?!0:(i(),!1)})}refinement(e,r){return this._refinement((o,n)=>e(o)?!0:(n.addIssue(typeof r=="function"?r(o,n):r),!1))}_refinement(e){return new ge({schema:this,typeName:A.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Re.create(this,this._def)}nullable(){return Ze.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ve.create(this,this._def)}promise(){return mt.create(this,this._def)}or(e){return Tt.create([this,e],this._def)}and(e){return xt.create(this,e,this._def)}transform(e){return new ge({...D(this._def),schema:this,typeName:A.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Dt({...D(this._def),innerType:this,defaultValue:r,typeName:A.ZodDefault})}brand(){return new an({typeName:A.ZodBranded,type:this,...D(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new Ut({...D(this._def),innerType:this,catchValue:r,typeName:A.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return Nt.create(this,e)}readonly(){return zt.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const wa=/^c[^\s-]{8,}$/i,Ea=/^[0-9a-z]+$/,Sa=/^[0-9A-HJKMNP-TV-Z]{26}$/,Ra=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ca=/^[a-z0-9_-]{21}$/i,ka=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Ta=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,xa="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let on;const Aa=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,Oa=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,Pa=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,io="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",La=new RegExp(`^${io}$`);function co(t){let e="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return t.precision?e=`${e}\\.\\d{${t.precision}}`:t.precision==null&&(e=`${e}(\\.\\d+)?`),e}function Da(t){return new RegExp(`^${co(t)}$`)}function uo(t){let e=`${io}T${co(t)}`;const r=[];return r.push(t.local?"Z?":"Z"),t.offset&&r.push("([+-]\\d{2}:?\\d{2})"),e=`${e}(${r.join("|")})`,new RegExp(`^${e}$`)}function Ua(t,e){return!!((e==="v4"||!e)&&Aa.test(t)||(e==="v6"||!e)&&Oa.test(t))}class _e extends U{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==C.string){const s=this._getOrReturnCtx(e);return S(s,{code:E.invalid_type,expected:C.string,received:s.parsedType}),O}const o=new Z;let n;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:E.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="max")e.data.length>s.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:E.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),o.dirty());else if(s.kind==="length"){const a=e.data.length>s.value,i=e.data.length<s.value;(a||i)&&(n=this._getOrReturnCtx(e,n),a?S(n,{code:E.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):i&&S(n,{code:E.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),o.dirty())}else if(s.kind==="email")Ta.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"email",code:E.invalid_string,message:s.message}),o.dirty());else if(s.kind==="emoji")on||(on=new RegExp(xa,"u")),on.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"emoji",code:E.invalid_string,message:s.message}),o.dirty());else if(s.kind==="uuid")Ra.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"uuid",code:E.invalid_string,message:s.message}),o.dirty());else if(s.kind==="nanoid")Ca.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"nanoid",code:E.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid")wa.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"cuid",code:E.invalid_string,message:s.message}),o.dirty());else if(s.kind==="cuid2")Ea.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"cuid2",code:E.invalid_string,message:s.message}),o.dirty());else if(s.kind==="ulid")Sa.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"ulid",code:E.invalid_string,message:s.message}),o.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{n=this._getOrReturnCtx(e,n),S(n,{validation:"url",code:E.invalid_string,message:s.message}),o.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"regex",code:E.invalid_string,message:s.message}),o.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(n=this._getOrReturnCtx(e,n),S(n,{code:E.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),o.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(n=this._getOrReturnCtx(e,n),S(n,{code:E.invalid_string,validation:{startsWith:s.value},message:s.message}),o.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(n=this._getOrReturnCtx(e,n),S(n,{code:E.invalid_string,validation:{endsWith:s.value},message:s.message}),o.dirty()):s.kind==="datetime"?uo(s).test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:E.invalid_string,validation:"datetime",message:s.message}),o.dirty()):s.kind==="date"?La.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:E.invalid_string,validation:"date",message:s.message}),o.dirty()):s.kind==="time"?Da(s).test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{code:E.invalid_string,validation:"time",message:s.message}),o.dirty()):s.kind==="duration"?ka.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"duration",code:E.invalid_string,message:s.message}),o.dirty()):s.kind==="ip"?Ua(e.data,s.version)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"ip",code:E.invalid_string,message:s.message}),o.dirty()):s.kind==="base64"?Pa.test(e.data)||(n=this._getOrReturnCtx(e,n),S(n,{validation:"base64",code:E.invalid_string,message:s.message}),o.dirty()):z.assertNever(s);return{status:o.value,value:e.data}}_regex(e,r,o){return this.refinement(n=>e.test(n),{validation:r,code:E.invalid_string,...x.errToObj(o)})}_addCheck(e){return new _e({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...x.errToObj(e)})}url(e){return this._addCheck({kind:"url",...x.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...x.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...x.errToObj(e)})}nanoid(e){return this._addCheck({kind:"nanoid",...x.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...x.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...x.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...x.errToObj(e)})}base64(e){return this._addCheck({kind:"base64",...x.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...x.errToObj(e)})}datetime(e){var r,o;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,offset:(r=e==null?void 0:e.offset)!==null&&r!==void 0?r:!1,local:(o=e==null?void 0:e.local)!==null&&o!==void 0?o:!1,...x.errToObj(e==null?void 0:e.message)})}date(e){return this._addCheck({kind:"date",message:e})}time(e){return typeof e=="string"?this._addCheck({kind:"time",precision:null,message:e}):this._addCheck({kind:"time",precision:typeof(e==null?void 0:e.precision)>"u"?null:e==null?void 0:e.precision,...x.errToObj(e==null?void 0:e.message)})}duration(e){return this._addCheck({kind:"duration",...x.errToObj(e)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...x.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r==null?void 0:r.position,...x.errToObj(r==null?void 0:r.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...x.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...x.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...x.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...x.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...x.errToObj(r)})}nonempty(e){return this.min(1,x.errToObj(e))}trim(){return new _e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new _e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new _e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isDate(){return!!this._def.checks.find(e=>e.kind==="date")}get isTime(){return!!this._def.checks.find(e=>e.kind==="time")}get isDuration(){return!!this._def.checks.find(e=>e.kind==="duration")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(e=>e.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get isBase64(){return!!this._def.checks.find(e=>e.kind==="base64")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}_e.create=t=>{var e;return new _e({checks:[],typeName:A.ZodString,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...D(t)})};function Na(t,e){const r=(t.toString().split(".")[1]||"").length,o=(e.toString().split(".")[1]||"").length,n=r>o?r:o,s=parseInt(t.toFixed(n).replace(".","")),a=parseInt(e.toFixed(n).replace(".",""));return s%a/Math.pow(10,n)}class Ge extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==C.number){const s=this._getOrReturnCtx(e);return S(s,{code:E.invalid_type,expected:C.number,received:s.parsedType}),O}let o;const n=new Z;for(const s of this._def.checks)s.kind==="int"?z.isInteger(e.data)||(o=this._getOrReturnCtx(e,o),S(o,{code:E.invalid_type,expected:"integer",received:"float",message:s.message}),n.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(o=this._getOrReturnCtx(e,o),S(o,{code:E.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(o=this._getOrReturnCtx(e,o),S(o,{code:E.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),n.dirty()):s.kind==="multipleOf"?Na(e.data,s.value)!==0&&(o=this._getOrReturnCtx(e,o),S(o,{code:E.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(o=this._getOrReturnCtx(e,o),S(o,{code:E.not_finite,message:s.message}),n.dirty()):z.assertNever(s);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,x.toString(r))}gt(e,r){return this.setLimit("min",e,!1,x.toString(r))}lte(e,r){return this.setLimit("max",e,!0,x.toString(r))}lt(e,r){return this.setLimit("max",e,!1,x.toString(r))}setLimit(e,r,o,n){return new Ge({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:x.toString(n)}]})}_addCheck(e){return new Ge({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:x.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:x.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:x.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:x.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:x.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&z.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const o of this._def.checks){if(o.kind==="finite"||o.kind==="int"||o.kind==="multipleOf")return!0;o.kind==="min"?(r===null||o.value>r)&&(r=o.value):o.kind==="max"&&(e===null||o.value<e)&&(e=o.value)}return Number.isFinite(r)&&Number.isFinite(e)}}Ge.create=t=>new Ge({checks:[],typeName:A.ZodNumber,coerce:(t==null?void 0:t.coerce)||!1,...D(t)});class We extends U{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==C.bigint){const s=this._getOrReturnCtx(e);return S(s,{code:E.invalid_type,expected:C.bigint,received:s.parsedType}),O}let o;const n=new Z;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(o=this._getOrReturnCtx(e,o),S(o,{code:E.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(o=this._getOrReturnCtx(e,o),S(o,{code:E.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),n.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(o=this._getOrReturnCtx(e,o),S(o,{code:E.not_multiple_of,multipleOf:s.value,message:s.message}),n.dirty()):z.assertNever(s);return{status:n.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,x.toString(r))}gt(e,r){return this.setLimit("min",e,!1,x.toString(r))}lte(e,r){return this.setLimit("max",e,!0,x.toString(r))}lt(e,r){return this.setLimit("max",e,!1,x.toString(r))}setLimit(e,r,o,n){return new We({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:o,message:x.toString(n)}]})}_addCheck(e){return new We({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:x.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:x.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:x.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:x.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:x.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}We.create=t=>{var e;return new We({checks:[],typeName:A.ZodBigInt,coerce:(e=t==null?void 0:t.coerce)!==null&&e!==void 0?e:!1,...D(t)})};class Rt extends U{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==C.boolean){const o=this._getOrReturnCtx(e);return S(o,{code:E.invalid_type,expected:C.boolean,received:o.parsedType}),O}return V(e.data)}}Rt.create=t=>new Rt({typeName:A.ZodBoolean,coerce:(t==null?void 0:t.coerce)||!1,...D(t)});class Xe extends U{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==C.date){const s=this._getOrReturnCtx(e);return S(s,{code:E.invalid_type,expected:C.date,received:s.parsedType}),O}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return S(s,{code:E.invalid_date}),O}const o=new Z;let n;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:E.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),o.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(n=this._getOrReturnCtx(e,n),S(n,{code:E.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),o.dirty()):z.assertNever(s);return{status:o.value,value:new Date(e.data.getTime())}}_addCheck(e){return new Xe({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:x.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:x.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}Xe.create=t=>new Xe({checks:[],coerce:(t==null?void 0:t.coerce)||!1,typeName:A.ZodDate,...D(t)});class mr extends U{_parse(e){if(this._getType(e)!==C.symbol){const o=this._getOrReturnCtx(e);return S(o,{code:E.invalid_type,expected:C.symbol,received:o.parsedType}),O}return V(e.data)}}mr.create=t=>new mr({typeName:A.ZodSymbol,...D(t)});class Ct extends U{_parse(e){if(this._getType(e)!==C.undefined){const o=this._getOrReturnCtx(e);return S(o,{code:E.invalid_type,expected:C.undefined,received:o.parsedType}),O}return V(e.data)}}Ct.create=t=>new Ct({typeName:A.ZodUndefined,...D(t)});class kt extends U{_parse(e){if(this._getType(e)!==C.null){const o=this._getOrReturnCtx(e);return S(o,{code:E.invalid_type,expected:C.null,received:o.parsedType}),O}return V(e.data)}}kt.create=t=>new kt({typeName:A.ZodNull,...D(t)});class ut extends U{constructor(){super(...arguments),this._any=!0}_parse(e){return V(e.data)}}ut.create=t=>new ut({typeName:A.ZodAny,...D(t)});class Qe extends U{constructor(){super(...arguments),this._unknown=!0}_parse(e){return V(e.data)}}Qe.create=t=>new Qe({typeName:A.ZodUnknown,...D(t)});class Le extends U{_parse(e){const r=this._getOrReturnCtx(e);return S(r,{code:E.invalid_type,expected:C.never,received:r.parsedType}),O}}Le.create=t=>new Le({typeName:A.ZodNever,...D(t)});class fr extends U{_parse(e){if(this._getType(e)!==C.undefined){const o=this._getOrReturnCtx(e);return S(o,{code:E.invalid_type,expected:C.void,received:o.parsedType}),O}return V(e.data)}}fr.create=t=>new fr({typeName:A.ZodVoid,...D(t)});class ve extends U{_parse(e){const{ctx:r,status:o}=this._processInputParams(e),n=this._def;if(r.parsedType!==C.array)return S(r,{code:E.invalid_type,expected:C.array,received:r.parsedType}),O;if(n.exactLength!==null){const a=r.data.length>n.exactLength.value,i=r.data.length<n.exactLength.value;(a||i)&&(S(r,{code:a?E.too_big:E.too_small,minimum:i?n.exactLength.value:void 0,maximum:a?n.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:n.exactLength.message}),o.dirty())}if(n.minLength!==null&&r.data.length<n.minLength.value&&(S(r,{code:E.too_small,minimum:n.minLength.value,type:"array",inclusive:!0,exact:!1,message:n.minLength.message}),o.dirty()),n.maxLength!==null&&r.data.length>n.maxLength.value&&(S(r,{code:E.too_big,maximum:n.maxLength.value,type:"array",inclusive:!0,exact:!1,message:n.maxLength.message}),o.dirty()),r.common.async)return Promise.all([...r.data].map((a,i)=>n.type._parseAsync(new Ee(r,a,r.path,i)))).then(a=>Z.mergeArray(o,a));const s=[...r.data].map((a,i)=>n.type._parseSync(new Ee(r,a,r.path,i)));return Z.mergeArray(o,s)}get element(){return this._def.type}min(e,r){return new ve({...this._def,minLength:{value:e,message:x.toString(r)}})}max(e,r){return new ve({...this._def,maxLength:{value:e,message:x.toString(r)}})}length(e,r){return new ve({...this._def,exactLength:{value:e,message:x.toString(r)}})}nonempty(e){return this.min(1,e)}}ve.create=(t,e)=>new ve({type:t,minLength:null,maxLength:null,exactLength:null,typeName:A.ZodArray,...D(e)});function lt(t){if(t instanceof M){const e={};for(const r in t.shape){const o=t.shape[r];e[r]=Re.create(lt(o))}return new M({...t._def,shape:()=>e})}else return t instanceof ve?new ve({...t._def,type:lt(t.element)}):t instanceof Re?Re.create(lt(t.unwrap())):t instanceof Ze?Ze.create(lt(t.unwrap())):t instanceof Se?Se.create(t.items.map(e=>lt(e))):t}class M extends U{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=z.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==C.object){const u=this._getOrReturnCtx(e);return S(u,{code:E.invalid_type,expected:C.object,received:u.parsedType}),O}const{status:o,ctx:n}=this._processInputParams(e),{shape:s,keys:a}=this._getCached(),i=[];if(!(this._def.catchall instanceof Le&&this._def.unknownKeys==="strip"))for(const u in n.data)a.includes(u)||i.push(u);const c=[];for(const u of a){const l=s[u],m=n.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Ee(n,m,n.path,u)),alwaysSet:u in n.data})}if(this._def.catchall instanceof Le){const u=this._def.unknownKeys;if(u==="passthrough")for(const l of i)c.push({key:{status:"valid",value:l},value:{status:"valid",value:n.data[l]}});else if(u==="strict")i.length>0&&(S(n,{code:E.unrecognized_keys,keys:i}),o.dirty());else if(u!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const u=this._def.catchall;for(const l of i){const m=n.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Ee(n,m,n.path,l)),alwaysSet:l in n.data})}}return n.common.async?Promise.resolve().then(async()=>{const u=[];for(const l of c){const m=await l.key,d=await l.value;u.push({key:m,value:d,alwaysSet:l.alwaysSet})}return u}).then(u=>Z.mergeObjectSync(o,u)):Z.mergeObjectSync(o,c)}get shape(){return this._def.shape()}strict(e){return x.errToObj,new M({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,o)=>{var n,s,a,i;const c=(a=(s=(n=this._def).errorMap)===null||s===void 0?void 0:s.call(n,r,o).message)!==null&&a!==void 0?a:o.defaultError;return r.code==="unrecognized_keys"?{message:(i=x.errToObj(e).message)!==null&&i!==void 0?i:c}:{message:c}}}:{}})}strip(){return new M({...this._def,unknownKeys:"strip"})}passthrough(){return new M({...this._def,unknownKeys:"passthrough"})}extend(e){return new M({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new M({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:A.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new M({...this._def,catchall:e})}pick(e){const r={};return z.objectKeys(e).forEach(o=>{e[o]&&this.shape[o]&&(r[o]=this.shape[o])}),new M({...this._def,shape:()=>r})}omit(e){const r={};return z.objectKeys(this.shape).forEach(o=>{e[o]||(r[o]=this.shape[o])}),new M({...this._def,shape:()=>r})}deepPartial(){return lt(this)}partial(e){const r={};return z.objectKeys(this.shape).forEach(o=>{const n=this.shape[o];e&&!e[o]?r[o]=n:r[o]=n.optional()}),new M({...this._def,shape:()=>r})}required(e){const r={};return z.objectKeys(this.shape).forEach(o=>{if(e&&!e[o])r[o]=this.shape[o];else{let s=this.shape[o];for(;s instanceof Re;)s=s._def.innerType;r[o]=s}}),new M({...this._def,shape:()=>r})}keyof(){return lo(z.objectKeys(this.shape))}}M.create=(t,e)=>new M({shape:()=>t,unknownKeys:"strip",catchall:Le.create(),typeName:A.ZodObject,...D(e)}),M.strictCreate=(t,e)=>new M({shape:()=>t,unknownKeys:"strict",catchall:Le.create(),typeName:A.ZodObject,...D(e)}),M.lazycreate=(t,e)=>new M({shape:t,unknownKeys:"strip",catchall:Le.create(),typeName:A.ZodObject,...D(e)});class Tt extends U{_parse(e){const{ctx:r}=this._processInputParams(e),o=this._def.options;function n(s){for(const i of s)if(i.result.status==="valid")return i.result;for(const i of s)if(i.result.status==="dirty")return r.common.issues.push(...i.ctx.common.issues),i.result;const a=s.map(i=>new me(i.ctx.common.issues));return S(r,{code:E.invalid_union,unionErrors:a}),O}if(r.common.async)return Promise.all(o.map(async s=>{const a={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:a}),ctx:a}})).then(n);{let s;const a=[];for(const c of o){const u={...r,common:{...r.common,issues:[]},parent:null},l=c._parseSync({data:r.data,path:r.path,parent:u});if(l.status==="valid")return l;l.status==="dirty"&&!s&&(s={result:l,ctx:u}),u.common.issues.length&&a.push(u.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const i=a.map(c=>new me(c));return S(r,{code:E.invalid_union,unionErrors:i}),O}}get options(){return this._def.options}}Tt.create=(t,e)=>new Tt({options:t,typeName:A.ZodUnion,...D(e)});const De=t=>t instanceof Ot?De(t.schema):t instanceof ge?De(t.innerType()):t instanceof Pt?[t.value]:t instanceof Fe?t.options:t instanceof Lt?z.objectValues(t.enum):t instanceof Dt?De(t._def.innerType):t instanceof Ct?[void 0]:t instanceof kt?[null]:t instanceof Re?[void 0,...De(t.unwrap())]:t instanceof Ze?[null,...De(t.unwrap())]:t instanceof an||t instanceof zt?De(t.unwrap()):t instanceof Ut?De(t._def.innerType):[];class hr extends U{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==C.object)return S(r,{code:E.invalid_type,expected:C.object,received:r.parsedType}),O;const o=this.discriminator,n=r.data[o],s=this.optionsMap.get(n);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(S(r,{code:E.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[o]}),O)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,o){const n=new Map;for(const s of r){const a=De(s.shape[e]);if(!a.length)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const i of a){if(n.has(i))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(i)}`);n.set(i,s)}}return new hr({typeName:A.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:n,...D(o)})}}function sn(t,e){const r=Be(t),o=Be(e);if(t===e)return{valid:!0,data:t};if(r===C.object&&o===C.object){const n=z.objectKeys(e),s=z.objectKeys(t).filter(i=>n.indexOf(i)!==-1),a={...t,...e};for(const i of s){const c=sn(t[i],e[i]);if(!c.valid)return{valid:!1};a[i]=c.data}return{valid:!0,data:a}}else if(r===C.array&&o===C.array){if(t.length!==e.length)return{valid:!1};const n=[];for(let s=0;s<t.length;s++){const a=t[s],i=e[s],c=sn(a,i);if(!c.valid)return{valid:!1};n.push(c.data)}return{valid:!0,data:n}}else return r===C.date&&o===C.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class xt extends U{_parse(e){const{status:r,ctx:o}=this._processInputParams(e),n=(s,a)=>{if(rn(s)||rn(a))return O;const i=sn(s.value,a.value);return i.valid?((nn(s)||nn(a))&&r.dirty(),{status:r.value,value:i.data}):(S(o,{code:E.invalid_intersection_types}),O)};return o.common.async?Promise.all([this._def.left._parseAsync({data:o.data,path:o.path,parent:o}),this._def.right._parseAsync({data:o.data,path:o.path,parent:o})]).then(([s,a])=>n(s,a)):n(this._def.left._parseSync({data:o.data,path:o.path,parent:o}),this._def.right._parseSync({data:o.data,path:o.path,parent:o}))}}xt.create=(t,e,r)=>new xt({left:t,right:e,typeName:A.ZodIntersection,...D(r)});class Se extends U{_parse(e){const{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.array)return S(o,{code:E.invalid_type,expected:C.array,received:o.parsedType}),O;if(o.data.length<this._def.items.length)return S(o,{code:E.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),O;!this._def.rest&&o.data.length>this._def.items.length&&(S(o,{code:E.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...o.data].map((a,i)=>{const c=this._def.items[i]||this._def.rest;return c?c._parse(new Ee(o,a,o.path,i)):null}).filter(a=>!!a);return o.common.async?Promise.all(s).then(a=>Z.mergeArray(r,a)):Z.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Se({...this._def,rest:e})}}Se.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Se({items:t,typeName:A.ZodTuple,rest:null,...D(e)})};class At extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.object)return S(o,{code:E.invalid_type,expected:C.object,received:o.parsedType}),O;const n=[],s=this._def.keyType,a=this._def.valueType;for(const i in o.data)n.push({key:s._parse(new Ee(o,i,o.path,i)),value:a._parse(new Ee(o,o.data[i],o.path,i)),alwaysSet:i in o.data});return o.common.async?Z.mergeObjectAsync(r,n):Z.mergeObjectSync(r,n)}get element(){return this._def.valueType}static create(e,r,o){return r instanceof U?new At({keyType:e,valueType:r,typeName:A.ZodRecord,...D(o)}):new At({keyType:_e.create(),valueType:e,typeName:A.ZodRecord,...D(r)})}}class pr extends U{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.map)return S(o,{code:E.invalid_type,expected:C.map,received:o.parsedType}),O;const n=this._def.keyType,s=this._def.valueType,a=[...o.data.entries()].map(([i,c],u)=>({key:n._parse(new Ee(o,i,o.path,[u,"key"])),value:s._parse(new Ee(o,c,o.path,[u,"value"]))}));if(o.common.async){const i=new Map;return Promise.resolve().then(async()=>{for(const c of a){const u=await c.key,l=await c.value;if(u.status==="aborted"||l.status==="aborted")return O;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),i.set(u.value,l.value)}return{status:r.value,value:i}})}else{const i=new Map;for(const c of a){const u=c.key,l=c.value;if(u.status==="aborted"||l.status==="aborted")return O;(u.status==="dirty"||l.status==="dirty")&&r.dirty(),i.set(u.value,l.value)}return{status:r.value,value:i}}}}pr.create=(t,e,r)=>new pr({valueType:e,keyType:t,typeName:A.ZodMap,...D(r)});class et extends U{_parse(e){const{status:r,ctx:o}=this._processInputParams(e);if(o.parsedType!==C.set)return S(o,{code:E.invalid_type,expected:C.set,received:o.parsedType}),O;const n=this._def;n.minSize!==null&&o.data.size<n.minSize.value&&(S(o,{code:E.too_small,minimum:n.minSize.value,type:"set",inclusive:!0,exact:!1,message:n.minSize.message}),r.dirty()),n.maxSize!==null&&o.data.size>n.maxSize.value&&(S(o,{code:E.too_big,maximum:n.maxSize.value,type:"set",inclusive:!0,exact:!1,message:n.maxSize.message}),r.dirty());const s=this._def.valueType;function a(c){const u=new Set;for(const l of c){if(l.status==="aborted")return O;l.status==="dirty"&&r.dirty(),u.add(l.value)}return{status:r.value,value:u}}const i=[...o.data.values()].map((c,u)=>s._parse(new Ee(o,c,o.path,u)));return o.common.async?Promise.all(i).then(c=>a(c)):a(i)}min(e,r){return new et({...this._def,minSize:{value:e,message:x.toString(r)}})}max(e,r){return new et({...this._def,maxSize:{value:e,message:x.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}et.create=(t,e)=>new et({valueType:t,minSize:null,maxSize:null,typeName:A.ZodSet,...D(e)});class dt extends U{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==C.function)return S(r,{code:E.invalid_type,expected:C.function,received:r.parsedType}),O;function o(i,c){return lr({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ur(),it].filter(u=>!!u),issueData:{code:E.invalid_arguments,argumentsError:c}})}function n(i,c){return lr({data:i,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,ur(),it].filter(u=>!!u),issueData:{code:E.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},a=r.data;if(this._def.returns instanceof mt){const i=this;return V(async function(...c){const u=new me([]),l=await i._def.args.parseAsync(c,s).catch(h=>{throw u.addIssue(o(c,h)),u}),m=await Reflect.apply(a,this,l);return await i._def.returns._def.type.parseAsync(m,s).catch(h=>{throw u.addIssue(n(m,h)),u})})}else{const i=this;return V(function(...c){const u=i._def.args.safeParse(c,s);if(!u.success)throw new me([o(c,u.error)]);const l=Reflect.apply(a,this,u.data),m=i._def.returns.safeParse(l,s);if(!m.success)throw new me([n(l,m.error)]);return m.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new dt({...this._def,args:Se.create(e).rest(Qe.create())})}returns(e){return new dt({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,o){return new dt({args:e||Se.create([]).rest(Qe.create()),returns:r||Qe.create(),typeName:A.ZodFunction,...D(o)})}}class Ot extends U{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ot.create=(t,e)=>new Ot({getter:t,typeName:A.ZodLazy,...D(e)});class Pt extends U{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return S(r,{received:r.data,code:E.invalid_literal,expected:this._def.value}),O}return{status:"valid",value:e.data}}get value(){return this._def.value}}Pt.create=(t,e)=>new Pt({value:t,typeName:A.ZodLiteral,...D(e)});function lo(t,e){return new Fe({values:t,typeName:A.ZodEnum,...D(e)})}class Fe extends U{constructor(){super(...arguments),Et.set(this,void 0)}_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),o=this._def.values;return S(r,{expected:z.joinValues(o),received:r.parsedType,code:E.invalid_type}),O}if(dr(this,Et)||so(this,Et,new Set(this._def.values)),!dr(this,Et).has(e.data)){const r=this._getOrReturnCtx(e),o=this._def.values;return S(r,{received:r.data,code:E.invalid_enum_value,options:o}),O}return V(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e,r=this._def){return Fe.create(e,{...this._def,...r})}exclude(e,r=this._def){return Fe.create(this.options.filter(o=>!e.includes(o)),{...this._def,...r})}}Et=new WeakMap,Fe.create=lo;class Lt extends U{constructor(){super(...arguments),St.set(this,void 0)}_parse(e){const r=z.getValidEnumValues(this._def.values),o=this._getOrReturnCtx(e);if(o.parsedType!==C.string&&o.parsedType!==C.number){const n=z.objectValues(r);return S(o,{expected:z.joinValues(n),received:o.parsedType,code:E.invalid_type}),O}if(dr(this,St)||so(this,St,new Set(z.getValidEnumValues(this._def.values))),!dr(this,St).has(e.data)){const n=z.objectValues(r);return S(o,{received:o.data,code:E.invalid_enum_value,options:n}),O}return V(e.data)}get enum(){return this._def.values}}St=new WeakMap,Lt.create=(t,e)=>new Lt({values:t,typeName:A.ZodNativeEnum,...D(e)});class mt extends U{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==C.promise&&r.common.async===!1)return S(r,{code:E.invalid_type,expected:C.promise,received:r.parsedType}),O;const o=r.parsedType===C.promise?r.data:Promise.resolve(r.data);return V(o.then(n=>this._def.type.parseAsync(n,{path:r.path,errorMap:r.common.contextualErrorMap})))}}mt.create=(t,e)=>new mt({type:t,typeName:A.ZodPromise,...D(e)});class ge extends U{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===A.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:o}=this._processInputParams(e),n=this._def.effect||null,s={addIssue:a=>{S(o,a),a.fatal?r.abort():r.dirty()},get path(){return o.path}};if(s.addIssue=s.addIssue.bind(s),n.type==="preprocess"){const a=n.transform(o.data,s);if(o.common.async)return Promise.resolve(a).then(async i=>{if(r.value==="aborted")return O;const c=await this._def.schema._parseAsync({data:i,path:o.path,parent:o});return c.status==="aborted"?O:c.status==="dirty"||r.value==="dirty"?ct(c.value):c});{if(r.value==="aborted")return O;const i=this._def.schema._parseSync({data:a,path:o.path,parent:o});return i.status==="aborted"?O:i.status==="dirty"||r.value==="dirty"?ct(i.value):i}}if(n.type==="refinement"){const a=i=>{const c=n.refinement(i,s);if(o.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return i};if(o.common.async===!1){const i=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});return i.status==="aborted"?O:(i.status==="dirty"&&r.dirty(),a(i.value),{status:r.value,value:i.value})}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(i=>i.status==="aborted"?O:(i.status==="dirty"&&r.dirty(),a(i.value).then(()=>({status:r.value,value:i.value}))))}if(n.type==="transform")if(o.common.async===!1){const a=this._def.schema._parseSync({data:o.data,path:o.path,parent:o});if(!bt(a))return a;const i=n.transform(a.value,s);if(i instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:i}}else return this._def.schema._parseAsync({data:o.data,path:o.path,parent:o}).then(a=>bt(a)?Promise.resolve(n.transform(a.value,s)).then(i=>({status:r.value,value:i})):a);z.assertNever(n)}}ge.create=(t,e,r)=>new ge({schema:t,typeName:A.ZodEffects,effect:e,...D(r)}),ge.createWithPreprocess=(t,e,r)=>new ge({schema:e,effect:{type:"preprocess",transform:t},typeName:A.ZodEffects,...D(r)});class Re extends U{_parse(e){return this._getType(e)===C.undefined?V(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Re.create=(t,e)=>new Re({innerType:t,typeName:A.ZodOptional,...D(e)});class Ze extends U{_parse(e){return this._getType(e)===C.null?V(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Ze.create=(t,e)=>new Ze({innerType:t,typeName:A.ZodNullable,...D(e)});class Dt extends U{_parse(e){const{ctx:r}=this._processInputParams(e);let o=r.data;return r.parsedType===C.undefined&&(o=this._def.defaultValue()),this._def.innerType._parse({data:o,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Dt.create=(t,e)=>new Dt({innerType:t,typeName:A.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...D(e)});class Ut extends U{_parse(e){const{ctx:r}=this._processInputParams(e),o={...r,common:{...r.common,issues:[]}},n=this._def.innerType._parse({data:o.data,path:o.path,parent:{...o}});return wt(n)?n.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new me(o.common.issues)},input:o.data})})):{status:"valid",value:n.status==="valid"?n.value:this._def.catchValue({get error(){return new me(o.common.issues)},input:o.data})}}removeCatch(){return this._def.innerType}}Ut.create=(t,e)=>new Ut({innerType:t,typeName:A.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...D(e)});class _r extends U{_parse(e){if(this._getType(e)!==C.nan){const o=this._getOrReturnCtx(e);return S(o,{code:E.invalid_type,expected:C.nan,received:o.parsedType}),O}return{status:"valid",value:e.data}}}_r.create=t=>new _r({typeName:A.ZodNaN,...D(t)});const za=Symbol("zod_brand");class an extends U{_parse(e){const{ctx:r}=this._processInputParams(e),o=r.data;return this._def.type._parse({data:o,path:r.path,parent:r})}unwrap(){return this._def.type}}class Nt extends U{_parse(e){const{status:r,ctx:o}=this._processInputParams(e);if(o.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:o.data,path:o.path,parent:o});return s.status==="aborted"?O:s.status==="dirty"?(r.dirty(),ct(s.value)):this._def.out._parseAsync({data:s.value,path:o.path,parent:o})})();{const n=this._def.in._parseSync({data:o.data,path:o.path,parent:o});return n.status==="aborted"?O:n.status==="dirty"?(r.dirty(),{status:"dirty",value:n.value}):this._def.out._parseSync({data:n.value,path:o.path,parent:o})}}static create(e,r){return new Nt({in:e,out:r,typeName:A.ZodPipeline})}}class zt extends U{_parse(e){const r=this._def.innerType._parse(e),o=n=>(bt(n)&&(n.value=Object.freeze(n.value)),n);return wt(r)?r.then(n=>o(n)):o(r)}unwrap(){return this._def.innerType}}zt.create=(t,e)=>new zt({innerType:t,typeName:A.ZodReadonly,...D(e)});function mo(t,e={},r){return t?ut.create().superRefine((o,n)=>{var s,a;if(!t(o)){const i=typeof e=="function"?e(o):typeof e=="string"?{message:e}:e,c=(a=(s=i.fatal)!==null&&s!==void 0?s:r)!==null&&a!==void 0?a:!0,u=typeof i=="string"?{message:i}:i;n.addIssue({code:"custom",...u,fatal:c})}}):ut.create()}const ja={object:M.lazycreate};var A;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(A||(A={}));const Ia=(t,e={message:`Input not instance of ${t.name}`})=>mo(r=>r instanceof t,e),fo=_e.create,ho=Ge.create,Ma=_r.create,$a=We.create,po=Rt.create,Ba=Xe.create,Ga=mr.create,Wa=Ct.create,Fa=kt.create,Za=ut.create,Ha=Qe.create,qa=Le.create,Ka=fr.create,Va=ve.create,Ya=M.create,Ja=M.strictCreate,Xa=Tt.create,Qa=hr.create,ei=xt.create,ti=Se.create,ri=At.create,ni=pr.create,oi=et.create,si=dt.create,ai=Ot.create,ii=Pt.create,ci=Fe.create,ui=Lt.create,li=mt.create,_o=ge.create,di=Re.create,mi=Ze.create,fi=ge.createWithPreprocess,hi=Nt.create;var b=Object.freeze({__proto__:null,defaultErrorMap:it,setErrorMap:ya,getErrorMap:ur,makeIssue:lr,EMPTY_PATH:ba,addIssueToContext:S,ParseStatus:Z,INVALID:O,DIRTY:ct,OK:V,isAborted:rn,isDirty:nn,isValid:bt,isAsync:wt,get util(){return z},get objectUtil(){return tn},ZodParsedType:C,getParsedType:Be,ZodType:U,datetimeRegex:uo,ZodString:_e,ZodNumber:Ge,ZodBigInt:We,ZodBoolean:Rt,ZodDate:Xe,ZodSymbol:mr,ZodUndefined:Ct,ZodNull:kt,ZodAny:ut,ZodUnknown:Qe,ZodNever:Le,ZodVoid:fr,ZodArray:ve,ZodObject:M,ZodUnion:Tt,ZodDiscriminatedUnion:hr,ZodIntersection:xt,ZodTuple:Se,ZodRecord:At,ZodMap:pr,ZodSet:et,ZodFunction:dt,ZodLazy:Ot,ZodLiteral:Pt,ZodEnum:Fe,ZodNativeEnum:Lt,ZodPromise:mt,ZodEffects:ge,ZodTransformer:ge,ZodOptional:Re,ZodNullable:Ze,ZodDefault:Dt,ZodCatch:Ut,ZodNaN:_r,BRAND:za,ZodBranded:an,ZodPipeline:Nt,ZodReadonly:zt,custom:mo,Schema:U,ZodSchema:U,late:ja,get ZodFirstPartyTypeKind(){return A},coerce:{string:t=>_e.create({...t,coerce:!0}),number:t=>Ge.create({...t,coerce:!0}),boolean:t=>Rt.create({...t,coerce:!0}),bigint:t=>We.create({...t,coerce:!0}),date:t=>Xe.create({...t,coerce:!0})},any:Za,array:Va,bigint:$a,boolean:po,date:Ba,discriminatedUnion:Qa,effect:_o,enum:ci,function:si,instanceof:Ia,intersection:ei,lazy:ai,literal:ii,map:ni,nan:Ma,nativeEnum:ui,never:qa,null:Fa,nullable:mi,number:ho,object:Ya,oboolean:()=>po().optional(),onumber:()=>ho().optional(),optional:di,ostring:()=>fo().optional(),pipeline:hi,preprocess:fi,promise:li,record:ri,set:oi,strictObject:Ja,string:fo,symbol:Ga,transformer:_o,tuple:ti,undefined:Wa,union:Xa,unknown:Ha,void:Ka,NEVER:O,ZodIssueCode:E,quotelessJson:ga,ZodError:me});const pi={LEADERBOARD:"leaderboard",SUPER_LEADERBOARD:"super_leaderboard",MOBILE_LEADERBOARD:"mobile_leaderboard",MEDIUM_RECTANGLE:"medium_rectangle",HALF_PAGE:"half_page",WIDE_SKYSCRAPER:"wide_skyscraper"},f=b.nativeEnum(pi),tt=b.enum(["300x600","728x90","970x90","160x600","300x250","320x50"]),_i=t=>{const e=tt.parse(t,{path:["size"]});return $(e).with(tt.enum["300x600"],()=>f.enum.HALF_PAGE).with(tt.enum["728x90"],()=>f.enum.LEADERBOARD).with(tt.enum["970x90"],()=>f.enum.SUPER_LEADERBOARD).with(tt.enum["160x600"],()=>f.enum.WIDE_SKYSCRAPER).with(tt.enum["300x250"],()=>f.enum.MEDIUM_RECTANGLE).with(tt.enum["320x50"],()=>f.enum.MOBILE_LEADERBOARD).exhaustive()},vi=t=>{if(!t)return;const{data:e,success:r}=f.safeParse(t);return r?e:f.parse(_i(b.string().parse(t,{path:["size"]})),{path:["size"]})},gi={ONE:1,TWO:2,THREE:3,FOUR:4},p=b.nativeEnum(gi);var vo=(t=>(t.LEFT="left",t.CENTER="center",t))(vo||{});const P=b.nativeEnum(vo),jt=b.object({color:b.string().optional(),"font-family":b.string().optional(),"font-size":b.string().optional(),"font-weight":b.string().optional(),"line-height":b.string().optional(),"text-align":b.string().optional()}),go=jt.extend({"border-color":b.string().optional(),"border-radius":b.string().optional()}),yi=go.extend({innerText:b.string().optional()}),yo=b.object({productCount:p.optional(),excludeMerchantGroups:b.array(b.number()).max(15).optional().transform(t=>t&&[...new Set(t)]),includeMerchantGroups:b.array(b.number()).max(15).optional().transform(t=>t&&[...new Set(t)]),cuid:b.string().optional()}),cn=yo.merge(jt.extend({button:yi.optional(),title:jt.optional(),price:jt.optional()})).extend({adUnitSize:f.optional(),size:b.preprocess(t=>vi(t),f.optional()),alignment:P.optional()}).transform(t=>t.size&&!t.adUnitSize?{...t,adUnitSize:t.size}:t).transform(t=>t.adUnitSize&&!t.productCount?$(t.adUnitSize).with(f.enum.LEADERBOARD,()=>({...t,productCount:p.enum.TWO})).with(f.enum.SUPER_LEADERBOARD,()=>({...t,productCount:p.enum.THREE})).with(f.enum.MEDIUM_RECTANGLE,()=>({...t,productCount:p.enum.ONE})).with(f.enum.WIDE_SKYSCRAPER,()=>({...t,productCount:p.enum.THREE})).with(f.enum.HALF_PAGE,()=>({...t,productCount:p.enum.TWO})).with(f.enum.MOBILE_LEADERBOARD,()=>({...t,productCount:p.enum.ONE})).exhaustive():t).transform(t=>$(t).when(({adUnitSize:e,alignment:r})=>!!e&&[f.enum.MEDIUM_RECTANGLE.toString(),f.enum.WIDE_SKYSCRAPER.toString(),f.enum.HALF_PAGE.toString()].includes(e)&&!r,e=>({...e,alignment:P.enum.CENTER})).otherwise(()=>t)).transform(t=>t.adUnitSize===f.enum.HALF_PAGE&&!t.productCount?{...t,productCount:p.enum.TWO}:t).refine(t=>!(t.adUnitSize===f.enum.HALF_PAGE&&t.productCount===p.enum.ONE&&t.alignment!==P.enum.CENTER),{message:'alignment must be "center" for half page (300x600) size with one product'}).refine(t=>!(t.adUnitSize===f.enum.SUPER_LEADERBOARD&&t.productCount&&![1,2,3].includes(t.productCount)),{message:'productCount must be "1", "2", or "3" for super leaderboard (970x90) size'}).refine(t=>!(t.adUnitSize===f.enum.MOBILE_LEADERBOARD&&t.productCount&&![1].includes(t.productCount)),{message:'productCount must be "1" for mobile leaderboard (320x50) size'}).refine(t=>!(t.adUnitSize===f.enum.HALF_PAGE&&t.productCount&&![1,2].includes(t.productCount)),{message:'productCount must be "1" or "2" for half page (300x600) size'}).refine(t=>!(t.adUnitSize===f.enum.LEADERBOARD&&t.productCount&&![1,2].includes(t.productCount)),{message:'productCount must be "1" or "2" for leaderboard (728x90) size'}).refine(t=>!(t.adUnitSize===f.enum.WIDE_SKYSCRAPER&&t.productCount&&![1,2,3].includes(t.productCount)),{message:'productCount must be "1", "2", or "3" for wide skyscraper (160x600) size'}).refine(t=>!(t.adUnitSize===f.enum.MEDIUM_RECTANGLE&&t.productCount!==p.enum.ONE),{message:'productCount must be "1" for medium rectangle (300x250) size'}).refine(t=>!(t.adUnitSize===f.enum.SUPER_LEADERBOARD&&t.productCount&&![1,2,3].includes(t.productCount)),{message:"productCount must be 1, 2 or 3 for super leaderboard ad unit size"}),bi=b.enum(["url"]),wi=b.record(bi,b.string()),Ei=b.object({meta:wi,title:b.string(),content:b.string()});var un=(t=>(t.USD="en-US",t.AUD="au-AU",t.GBP="en-GB",t.CAD="en-CA",t.EUR="it-IT",t.CHF="de-CH",t.DKK="dk-DK",t))(un||{});const Si=b.nativeEnum(un);b.object({id:b.number(),code:b.string()});var bo=(t=>(t.USD="USD",t.AUD="AUD",t.GBP="GBP",t.CAD="CAD",t.EUR="EUR",t.CHF="CHF",t.DKK="DKK",t))(bo||{});const Ri=b.nativeEnum(bo),wo=b.object({id:b.number(),merchant:b.object({id:b.number()}),name:b.string(),imageURL:b.string().url(),thumbnailURL:b.string().url().optional(),currency:Ri,salePrice:b.number(),retailPrice:b.number(),discountRate:b.number(),inStock:b.boolean(),affiliatable:b.boolean().optional(),deepLink:b.string().url()}),Ce=2048,ke=/^[A-Za-z0-9_-]+$/;var Eo=(t=>(t.DIRECT="direct",t.GOOGLE_AD_MANAGER="google_ad_manager",t))(Eo||{});const Ue=b.nativeEnum(Eo),It=t=>`Sovrn Commerce JavaScript option '${t}' must not contain special characters.`,vr="https://knowledge.sovrn.com/kb/implementations-in-commerce",Ci=b.object({apiKey:b.string({required_error:"apiKey is required",invalid_type_error:"apiKey must be a string"}).min(1,{message:`Sovrn Commerce API key must be a non-empty string. See ${vr}.`}).max(1e3,{message:`Sovrn Commerce API key must be less than 1000 characters. See ${vr}.`}),context:Ue.default(Ue.enum.DIRECT),cuid:b.string().nullish(),utmSource:b.string().max(Ce).regex(ke,It("utmSource")).nullish(),utmMedium:b.string().max(Ce).regex(ke,It("utmMedium")).nullish(),utmCampaign:b.string().max(Ce).regex(ke,It("utmCampaign")).nullish(),utmContent:b.string().max(Ce).regex(ke,It("utmContent")).nullish(),utmTerm:b.string().max(Ce).regex(ke,It("utmTerm")).nullish(),libraryId:b.string().optional().nullable(),shoppingGallery:cn.optional()}).refine(t=>{var e;return!(t.context===Ue.enum.GOOGLE_AD_MANAGER&&!((e=t.shoppingGallery)!=null&&e.adUnitSize))},{message:`Ad unit size is required when context is Google Ad Manager (GAM). See ${vr}.`,path:["shoppingGallery","adUnitSize"]}).refine(t=>{var e;return!(t.context===Ue.enum.DIRECT&&((e=t.shoppingGallery)==null?void 0:e.productCount)===p.enum.THREE)},{message:`Product count must not be three when context is direct installation. See ${vr}.`,path:["shoppingGallery","productCount"]}),ki=b.enum(["library_id","cuid","utm_source","utm_medium","utm_campaign","utm_content","utm_term"]);b.object({key:b.string().optional(),opt:b.function().args(ki).returns(b.union([b.null(),b.string(),b.undefined(),b.boolean()]))});const Mt=t=>`Viglink JavaScript option '${t}' must not contain special characters.`,Ti=b.object({library_id:b.string().nullish(),cuid:b.string().nullish(),utm_source:b.string().max(Ce).regex(ke,Mt("utmSource")).nullish(),utm_medium:b.string().max(Ce).regex(ke,Mt("utmMedium")).nullish(),utm_campaign:b.string().max(Ce).regex(ke,Mt("utmCampaign")).nullish(),utm_content:b.string().max(Ce).regex(ke,Mt("utmContent")).nullish(),utm_term:b.string().max(Ce).regex(ke,Mt("utmTerm")).nullish()}),xi=()=>{var e,r,o,n,s,a,i;const t=window.vglnk;if(t)return Ti.parse({library_id:(e=t.opt)==null?void 0:e.call(t,"library_id"),cuid:(r=t.opt)==null?void 0:r.call(t,"cuid"),utm_source:(o=t.opt)==null?void 0:o.call(t,"utm_source"),utm_medium:(n=t.opt)==null?void 0:n.call(t,"utm_medium"),utm_campaign:(s=t.opt)==null?void 0:s.call(t,"utm_campaign"),utm_content:(a=t.opt)==null?void 0:a.call(t,"utm_content"),utm_term:(i=t.opt)==null?void 0:i.call(t,"utm_term")})};b.object({consent:b.string().nullish(),applies:b.boolean().nullish()});const So=b.object({gdprConsent:b.string().optional(),gdprApplies:b.boolean().optional(),ccpaConsent:b.string().optional()}),Ro=b.object({gppConsent:b.string().optional()});b.object({onConsentChange:b.function().args(So).returns(b.void()),onGPPChange:b.function().args(Ro).returns(b.void()),onLibReady:b.function().args(b.void()).returns(b.void()),fetchProductRecommendations:b.function().args(b.void()).returns(b.void())}),Ue.enum.DIRECT;const Co={config:null},Ai=(t,e)=>({...Co,setConfiguration:r=>{const o={...r},n=xi();o.cuid=o.cuid??(n==null?void 0:n.cuid),o.utmSource=o.utmSource??(n==null?void 0:n.utm_source),o.utmMedium=o.utmMedium??(n==null?void 0:n.utm_medium),o.utmCampaign=o.utmCampaign??(n==null?void 0:n.utm_campaign),o.utmContent=o.utmContent??(n==null?void 0:n.utm_content),o.utmTerm=o.utmTerm??(n==null?void 0:n.utm_term),o.libraryId=o.libraryId??(n==null?void 0:n.library_id),t(s=>{s.config=Ci.parse(o)})},getConfiguration:()=>{const r=e().config;if(!r)throw ue({name:"CONFIGURATION_ERROR",message:"Configuration is not set"});return r},resetConfiguration:()=>{t(Co)}}),Oi={consent:void 0,applies:!0},Pi={consent:void 0,applies:void 0},Li={consent:void 0,applies:void 0},ln=()=>({gdpr:Oi,gpp:Pi,usp:Li}),Di=t=>({...ln(),resetPrivacyAndConsent:()=>{t(ln())}}),$t={maxProductCount:4,galleryConfigAttr:"data-shopping-gallery-config",galleryIdAttr:"data-shopping-gallery-id",galleryRootClassName:"sovrn-commerce-ai-shopping-gallery"},ko=Ke("shopping-gallery-slice"),To=()=>({galleries:{}}),Ui=(t,e)=>({...To(),fetchProducts:async()=>{try{const{shoppingGallery:r,context:o}=e().config??{};if(!o)throw ue({name:"SHOPPING_GALLERY_ERROR",message:"Global shopping gallery config not found"});const n=Ni(e().galleries,r);if(Object.keys(n).length===0)throw ue({name:"SHOPPING_GALLERY_ERROR",message:"No galleries found"});const s=await Oo.getContent(),a=(()=>{const c=Object.values(n).map(u=>{const l=u.config;return l!=null&&l.adUnitSize?Zi(l.adUnitSize):(l==null?void 0:l.productCount)??(r==null?void 0:r.productCount)??$t.maxProductCount});return p.parse(Math.max(...c))})();t(c=>{Object.values(n).forEach(u=>{u.galleryIds.forEach(l=>{c.galleries[l].products=[],c.galleries[l].requestStatus="loading"})})},void 0,"shopping-gallery/fetchProducts/loading");const i=Object.values(n).map(async c=>{try{const u=c.config,l=await Wi(s,{productCount:a,excludeMerchantGroups:(u==null?void 0:u.excludeMerchantGroups)??(r==null?void 0:r.excludeMerchantGroups),includeMerchantGroups:(u==null?void 0:u.includeMerchantGroups)??(r==null?void 0:r.includeMerchantGroups),cuid:(u==null?void 0:u.cuid)??(r==null?void 0:r.cuid)});t(m=>{c.galleryIds.forEach(d=>{m.galleries[d].products=l,m.galleries[d].requestStatus="success"})})}catch(u){ko.error("Error fetching products for gallery group",u),t(l=>{c.galleryIds.forEach(m=>{l.galleries[m].requestStatus="error"})})}});await Promise.all(i)}catch(r){throw ko.error("Error in fetchProducts",r),r}},addGallery:(r,o)=>{var s;if(e().galleries[r])throw ue({name:"SHOPPING_GALLERY_ERROR",message:`Gallery with id ${r} already exists`});if(((s=e().config)==null?void 0:s.context)===Ue.enum.GOOGLE_AD_MANAGER&&Object.keys(e().galleries).length>0)throw ue({name:"SHOPPING_GALLERY_ERROR",message:"Only one gallery is allowed in Google Ad Manager installation"});t(a=>{a.galleries[r]={products:[],requestStatus:"idle",config:o}},void 0,"shopping-gallery/addGallery")},resetGalleries:()=>t(To(),void 0,"shopping-gallery/resetGalleries")});function Ni(t,e){const r={};Object.entries(t).forEach(([n,s])=>{const a=s.config;if(!a)return;const i=xo(a);r[i]||(r[i]={config:a,galleryIds:[]}),r[i].galleryIds.push(n)});const o=e?xo(e):"global";return r[o]||(r[o]={config:e,galleryIds:[]}),Object.entries(t).forEach(([n,s])=>{s.config||r[o].galleryIds.push(n)}),Object.keys(r).forEach(n=>{r[n].galleryIds.length===0&&delete r[n]}),r}function xo(t){const e={excludeMerchantGroups:t.excludeMerchantGroups,includeMerchantGroups:t.includeMerchantGroups,cuid:t.cuid};return JSON.stringify(e)}const dn="commerce-js",H=Qs()(ha(pa(va(ma((...t)=>({...Di(...t),...Ai(...t),...Ui(...t)})),{name:dn,partialize:t=>({...ln(),gdpr:t.gdpr,gpp:t.gpp,usp:t.usp})})),{name:dn,enabled:["development","test","stg"].includes("prd"),store:dn})),Bt=()=>H.getState().getConfiguration(),Ao=(t,e=void 0)=>{(async()=>{const r=t instanceof Error?t:ue({name:e??"UNKNOWN_ERROR",message:typeof t=="string"?t:JSON.stringify(t)}),o=new AbortController,n=setTimeout(()=>o.abort(),5e3),s=new URLSearchParams;s.append("loc",window.location.href),s.append("env","prd"),s.append("apiKey",Bt().apiKey);try{await Ys.post(`/errors/?${s.toString()}`,{body:JSON.stringify({name:r.name,message:r.message}),signal:o.signal})}catch(a){Ke("ErrorReporter").error(a)}finally{clearTimeout(n)}})()},gr=()=>{if(window.self!==window.top){if(!window.top)throw ue({name:"SHOPPING_GALLERY_ERROR",message:"Top level window not found"});return window.top}return window},Oo={getBody:async function(){const t=gr();for(;!t.document.body;)await new Promise(e=>setTimeout(e,100));return t.document.body.innerHTML.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")},getMeta:function(){return{url:encodeURIComponent(this.getUrl())}},getTitle:function(){return gr().document.title},getUrl:function(){const t=gr(),e=t.document.querySelector('meta[property="og:url"]');return(e==null?void 0:e.getAttribute("content"))??t.location.href.replace(/(^\w+:|^)\/\//,"").replace(/\/$/,"")},getContent:async function(){const t=this.getTitle(),e=this.getMeta(),r=await this.getBody();return{meta:e,title:t,content:r}}};function Po(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var mn={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/var Lo;function zi(){return Lo||(Lo=1,function(t){(function(){var e={}.hasOwnProperty;function r(){for(var s="",a=0;a<arguments.length;a++){var i=arguments[a];i&&(s=n(s,o(i)))}return s}function o(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return r.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var i in s)e.call(s,i)&&s[i]&&(a=n(a,i));return a}function n(s,a){return a?s?s+" "+a:s+a:s}t.exports?(r.default=r,t.exports=r):window.classNames=r})()}(mn)),mn.exports}var ji=zi();const g=Po(ji);var se={default:"sovrn-commerce-1a4pr6e5 sovrn-commerce-1a4pr6e2 sovrn-commerce-1a4pr6e1",OneProduct:"sovrn-commerce-1a4pr6e6 sovrn-commerce-1a4pr6e2 sovrn-commerce-1a4pr6e1",TwoProducts:"sovrn-commerce-1a4pr6e7 sovrn-commerce-1a4pr6e2 sovrn-commerce-1a4pr6e1",leaderboardOne:"sovrn-commerce-1a4pr6e8",leaderboardTwo:"sovrn-commerce-1a4pr6e9",superLeaderboard:"sovrn-commerce-1a4pr6ea",mobile_leaderboard:"sovrn-commerce-1a4pr6eb sovrn-commerce-1a4pr6e1",wideSkyscraperOne:"sovrn-commerce-1a4pr6ec sovrn-commerce-1a4pr6e3 sovrn-commerce-1a4pr6e1",wideSkyscraperTwo:"sovrn-commerce-1a4pr6ed sovrn-commerce-1a4pr6e3 sovrn-commerce-1a4pr6e1",wideSkyscraperThree:"sovrn-commerce-1a4pr6ee sovrn-commerce-1a4pr6e3 sovrn-commerce-1a4pr6e1",halfPageOne:"sovrn-commerce-1a4pr6ef sovrn-commerce-1a4pr6e4 sovrn-commerce-1a4pr6e1",halfPageTwo:"sovrn-commerce-1a4pr6eg sovrn-commerce-1a4pr6e4 sovrn-commerce-1a4pr6e1",medium_rectangle:"sovrn-commerce-1a4pr6eh",half_page:"sovrn-commerce-1a4pr6ei"},Ii="sovrn-commerce-1nzkxfg0",rt={default:"sovrn-commerce-kw0qz80",leaderboard:"sovrn-commerce-kw0qz81",super_leaderboard:"sovrn-commerce-kw0qz82",mobile_leaderboard:"sovrn-commerce-kw0qz83",wide_skyscraper:"sovrn-commerce-kw0qz84",medium_rectangle:"sovrn-commerce-kw0qz85",half_page:"sovrn-commerce-kw0qz86"};const ae=["sovrn-commerce-ai-shopping-gallery-root",Ii],Mi=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>g([...ae,se.leaderboardOne])).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>g([...ae,se.leaderboardTwo])).with({adUnitSize:f.enum.SUPER_LEADERBOARD},()=>g([...ae,se.superLeaderboard])).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>g([...ae,se.wideSkyscraperOne])).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>g([...ae,se.wideSkyscraperTwo])).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>g([...ae,se.wideSkyscraperThree])).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE},()=>g([...ae,se.halfPageOne])).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO},()=>g([...ae,se.halfPageTwo])).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>g([...ae,se[f.enum.MOBILE_LEADERBOARD]])).with({adUnitSize:f.enum.MEDIUM_RECTANGLE},()=>g([...ae,se[f.enum.MEDIUM_RECTANGLE]])).with({adUnitSize:f.enum.HALF_PAGE},()=>g([...ae,se[f.enum.HALF_PAGE]])).with({productCount:p.enum.ONE},()=>g([...ae,se.OneProduct])).with({productCount:p.enum.TWO},()=>g([...ae,se.TwoProducts])).otherwise(()=>g([...ae,se.default])),$i=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD},()=>rt.leaderboard).with({adUnitSize:f.enum.SUPER_LEADERBOARD},()=>rt.super_leaderboard).with({adUnitSize:f.enum.WIDE_SKYSCRAPER},()=>rt.wide_skyscraper).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>rt.mobile_leaderboard).with({adUnitSize:f.enum.MEDIUM_RECTANGLE},()=>rt.medium_rectangle).with({adUnitSize:f.enum.HALF_PAGE},()=>rt.half_page).otherwise(()=>rt.default),Do=Ke("getGalleryConfiguration"),Bi=t=>{const e=t.getAttribute($t.galleryConfigAttr),r=Bt().shoppingGallery;if(e)try{const o=JSON.parse(e),n={...r,...o},{data:s,success:a,error:i}=cn.safeParse(n);if(!a){Do.error("Invalid configuration for shopping gallery provided. Using default configuration.",i==null?void 0:i.flatten());return}return s}catch(o){Do.error(o)}return r},Uo=()=>{const t=document.getElementsByClassName($t.galleryRootClassName);if(!t.length)throw ue({name:"SHOPPING_GALLERY_ERROR",message:"No shopping gallery roots found"});return Array.from(t)},Gi=Ke("getProducts"),Wi=async(t,e)=>{Ei.parse(t),e&&yo.parse(e);const r=new URLSearchParams,{apiKey:o}=Bt();if(r.append("apiKey",o),r.append("pageUrl",Oo.getUrl()),e!=null&&e.productCount&&r.append("maxProducts",e.productCount.toString()),e!=null&&e.excludeMerchantGroups){const a=[...new Set(e.excludeMerchantGroups)];r.append("excludeMerchants",a.join(","))}if(e!=null&&e.includeMerchantGroups){const a=[...new Set(e.includeMerchantGroups)];r.append("includeMerchants",a.join(","))}e!=null&&e.cuid&&r.append("cuid",e.cuid);const n=`/ai-orchestration/products?${r.toString()}`,s=await Js.post(n,{body:JSON.stringify(t)});return s.forEach(a=>{const i=wo.safeParse(a);i.success||Gi.error("Invalid product",{product:a,error:i.error.format()})}),s.length===0&&Ao(ue({name:"SHOPPING_GALLERY_ERROR",message:"No products returned from AI Orchestration API"})),s},Fi=async()=>{for(;!document.body;)await new Promise(t=>setTimeout(t,100));return Uo(),Promise.resolve()},Zi=t=>$(t).returnType().with(f.enum.HALF_PAGE,()=>p.enum.TWO).with(f.enum.LEADERBOARD,()=>p.enum.TWO).with(f.enum.SUPER_LEADERBOARD,()=>p.enum.THREE).with(f.enum.WIDE_SKYSCRAPER,()=>p.enum.THREE).with(f.enum.MEDIUM_RECTANGLE,()=>p.enum.ONE).with(f.enum.MOBILE_LEADERBOARD,()=>p.enum.ONE).exhaustive(),Hi=()=>Math.random().toString(36).substring(2,15),qi=(t,e)=>{t.setAttribute($t.galleryIdAttr,e)};var Gt,B,fn,No,hn=0,zo=[],G=L,jo=G.__b,Io=G.__r,Mo=G.diffed,$o=G.__c,Bo=G.unmount,Go=G.__;function pn(t,e){G.__h&&G.__h(B,t,hn||e),hn=0;var r=B.__H||(B.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function He(t){return hn=1,Ki(Ho,t)}function Ki(t,e,r){var o=pn(Gt++,2);if(o.t=t,!o.__c&&(o.__=[r?r(e):Ho(void 0,e),function(i){var c=o.__N?o.__N[0]:o.__[0],u=o.t(c,i);c!==u&&(o.__N=[u,o.__[1]],o.__c.setState({}))}],o.__c=B,!B.u)){var n=function(i,c,u){if(!o.__c.__H)return!0;var l=o.__c.__H.__.filter(function(d){return!!d.__c});if(l.every(function(d){return!d.__N}))return!s||s.call(this,i,c,u);var m=!1;return l.forEach(function(d){if(d.__N){var h=d.__[0];d.__=d.__N,d.__N=void 0,h!==d.__[0]&&(m=!0)}}),!(!m&&o.__c.props===i)&&(!s||s.call(this,i,c,u))};B.u=!0;var s=B.shouldComponentUpdate,a=B.componentWillUpdate;B.componentWillUpdate=function(i,c,u){if(this.__e){var l=s;s=void 0,n(i,c,u),s=l}a&&a.call(this,i,c,u)},B.shouldComponentUpdate=n}return o.__N||o.__}function Wo(t,e){var r=pn(Gt++,3);!G.__s&&Zo(r.__H,e)&&(r.__=t,r.i=e,B.__H.__h.push(r))}function yr(t,e){var r=pn(Gt++,4);!G.__s&&Zo(r.__H,e)&&(r.__=t,r.i=e,B.__h.push(r))}function Vi(){for(var t;t=zo.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(br),t.__H.__h.forEach(_n),t.__H.__h=[]}catch(e){t.__H.__h=[],G.__e(e,t.__v)}}G.__b=function(t){B=null,jo&&jo(t)},G.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Go&&Go(t,e)},G.__r=function(t){Io&&Io(t),Gt=0;var e=(B=t.__c).__H;e&&(fn===B?(e.__h=[],B.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.i=r.__N=void 0})):(e.__h.forEach(br),e.__h.forEach(_n),e.__h=[],Gt=0)),fn=B},G.diffed=function(t){Mo&&Mo(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(zo.push(e)!==1&&No===G.requestAnimationFrame||((No=G.requestAnimationFrame)||Yi)(Vi)),e.__H.__.forEach(function(r){r.i&&(r.__H=r.i),r.i=void 0})),fn=B=null},G.__c=function(t,e){e.some(function(r){try{r.__h.forEach(br),r.__h=r.__h.filter(function(o){return!o.__||_n(o)})}catch(o){e.some(function(n){n.__h&&(n.__h=[])}),e=[],G.__e(o,r.__v)}}),$o&&$o(t,e)},G.unmount=function(t){Bo&&Bo(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(o){try{br(o)}catch(n){e=n}}),r.__H=void 0,e&&G.__e(e,r.__v))};var Fo=typeof requestAnimationFrame=="function";function Yi(t){var e,r=function(){clearTimeout(o),Fo&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(r,100);Fo&&(e=requestAnimationFrame(r))}function br(t){var e=B,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),B=e}function _n(t){var e=B;t.__c=t.__(),B=e}function Zo(t,e){return!t||t.length!==e.length||e.some(function(r,o){return r!==t[o]})}function Ho(t,e){return typeof e=="function"?e(t):e}const w={container:"product-card-container",button:"product-card-button",title:"product-card-title",price:"product-card-price",imageWrapper:"product-card-image-wrapper",image:"product-card-image",imageError:"product-card-image-error"};function Ji(t,e){return`${t}-${e}`}function qo(t,e){for(var r in e)t[r]=e[r];return t}function Ko(t,e){for(var r in t)if(r!=="__source"&&!(r in e))return!0;for(var o in e)if(o!=="__source"&&t[o]!==e[o])return!0;return!1}function Vo(t,e){this.props=t,this.context=e}(Vo.prototype=new ye).isPureReactComponent=!0,Vo.prototype.shouldComponentUpdate=function(t,e){return Ko(this.props,t)||Ko(this.state,e)};var Yo=L.__b;L.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Yo&&Yo(t)};var Xi=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function Qi(t){function e(r){var o=qo({},r);return delete o.ref,t(o,r.ref||null)}return e.$$typeof=Xi,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var ec=L.__e;L.__e=function(t,e,r,o){if(t.then){for(var n,s=e;s=s.__;)if((n=s.__c)&&n.__c)return e.__e==null&&(e.__e=r.__e,e.__k=r.__k),n.__c(t,e)}ec(t,e,r,o)};var Jo=L.unmount;function Xo(t,e,r){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),t.__c.__H=null),(t=qo({},t)).__c!=null&&(t.__c.__P===r&&(t.__c.__P=e),t.__c=null),t.__k=t.__k&&t.__k.map(function(o){return Xo(o,e,r)})),t}function Qo(t,e,r){return t&&r&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(o){return Qo(o,e,r)}),t.__c&&t.__c.__P===e&&(t.__e&&r.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=r)),t}function vn(){this.__u=0,this.t=null,this.__b=null}function es(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function wr(){this.u=null,this.o=null}L.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),Jo&&Jo(t)},(vn.prototype=new ye).__c=function(t,e){var r=e.__c,o=this;o.t==null&&(o.t=[]),o.t.push(r);var n=es(o.__v),s=!1,a=function(){s||(s=!0,r.__R=null,n?n(i):i())};r.__R=a;var i=function(){if(!--o.__u){if(o.state.__a){var c=o.state.__a;o.__v.__k[0]=Qo(c,c.__c.__P,c.__c.__O)}var u;for(o.setState({__a:o.__b=null});u=o.t.pop();)u.forceUpdate()}};o.__u++||32&e.__u||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(a,a)},vn.prototype.componentWillUnmount=function(){this.t=[]},vn.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var r=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=Xo(this.__b,r,o.__O=o.__P)}this.__b=null}var n=e.__a&&Ur(ze,null,t.fallback);return n&&(n.__u&=-33),[Ur(ze,null,e.__a?null:t.children),n]};var ts=function(t,e,r){if(++r[1]===r[0]&&t.o.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.o.size))for(r=t.u;r;){for(;r.length>3;)r.pop()();if(r[1]<r[0])break;t.u=r=r[2]}};(wr.prototype=new ye).__a=function(t){var e=this,r=es(e.__v),o=e.o.get(t);return o[0]++,function(n){var s=function(){e.props.revealOrder?(o.push(n),ts(e,t,o)):n()};r?r(s):s()}},wr.prototype.render=function(t){this.u=null,this.o=new Map;var e=Vt(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var r=e.length;r--;)this.o.set(e[r],this.u=[1,0,this.u]);return t.children},wr.prototype.componentDidUpdate=wr.prototype.componentDidMount=function(){var t=this;this.o.forEach(function(e,r){ts(t,r,e)})};var tc=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,rc=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,nc=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,oc=/[A-Z0-9]/g,sc=typeof document<"u",ac=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};ye.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(ye.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var rs=L.event;function ic(){}function cc(){return this.cancelBubble}function uc(){return this.defaultPrevented}L.event=function(t){return rs&&(t=rs(t)),t.persist=ic,t.isPropagationStopped=cc,t.isDefaultPrevented=uc,t.nativeEvent=t};var lc={enumerable:!1,configurable:!0,get:function(){return this.class}},ns=L.vnode;L.vnode=function(t){typeof t.type=="string"&&function(e){var r=e.props,o=e.type,n={},s=o.indexOf("-")===-1;for(var a in r){var i=r[a];if(!(a==="value"&&"defaultValue"in r&&i==null||sc&&a==="children"&&o==="noscript"||a==="class"||a==="className")){var c=a.toLowerCase();a==="defaultValue"&&"value"in r&&r.value==null?a="value":a==="download"&&i===!0?i="":c==="translate"&&i==="no"?i=!1:c[0]==="o"&&c[1]==="n"?c==="ondoubleclick"?a="ondblclick":c!=="onchange"||o!=="input"&&o!=="textarea"||ac(r.type)?c==="onfocus"?a="onfocusin":c==="onblur"?a="onfocusout":nc.test(a)&&(a=c):c=a="oninput":s&&rc.test(a)?a=a.replace(oc,"-$&").toLowerCase():i===null&&(i=void 0),c==="oninput"&&n[a=c]&&(a="oninputCapture"),n[a]=i}}o=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Vt(r.children).forEach(function(u){u.props.selected=n.value.indexOf(u.props.value)!=-1})),o=="select"&&n.defaultValue!=null&&(n.value=Vt(r.children).forEach(function(u){u.props.selected=n.multiple?n.defaultValue.indexOf(u.props.value)!=-1:n.defaultValue==u.props.value})),r.class&&!r.className?(n.class=r.class,Object.defineProperty(n,"className",lc)):(r.className&&!r.class||r.class&&r.className)&&(n.class=n.className=r.className),e.props=n}(t),t.$$typeof=tc,ns&&ns(t)};var os=L.__r;L.__r=function(t){os&&os(t),t.__c};var ss=L.diffed;L.diffed=function(t){ss&&ss(t);var e=t.props,r=t.__e;r!=null&&t.type==="textarea"&&"value"in e&&e.value!==r.value&&(r.value=e.value==null?"":e.value)};var gn={exports:{}},yn,as;function is(){return as||(as=1,yn={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]}),yn}var bn={exports:{}},wn,cs;function dc(){return cs||(cs=1,wn=function(e){return!e||typeof e=="string"?!1:e instanceof Array||Array.isArray(e)||e.length>=0&&(e.splice instanceof Function||Object.getOwnPropertyDescriptor(e,e.length-1)&&e.constructor.name!=="String")}),wn}var us;function mc(){if(us)return bn.exports;us=1;var t=dc(),e=Array.prototype.concat,r=Array.prototype.slice,o=bn.exports=function(s){for(var a=[],i=0,c=s.length;i<c;i++){var u=s[i];t(u)?a=e.call(a,r.call(u)):a.push(u)}return a};return o.wrap=function(n){return function(){return n(o(arguments))}},bn.exports}var ls;function fc(){if(ls)return gn.exports;ls=1;var t=is(),e=mc(),r=Object.hasOwnProperty,o=Object.create(null);for(var n in t)r.call(t,n)&&(o[t[n]]=n);var s=gn.exports={to:{},get:{}};s.get=function(c){var u=c.substring(0,3).toLowerCase(),l,m;switch(u){case"hsl":l=s.get.hsl(c),m="hsl";break;case"hwb":l=s.get.hwb(c),m="hwb";break;default:l=s.get.rgb(c),m="rgb";break}return l?{model:m,value:l}:null},s.get.rgb=function(c){if(!c)return null;var u=/^#([a-f0-9]{3,4})$/i,l=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,m=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,d=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,h=/^(\w+)$/,v=[0,0,0,1],_,y,R;if(_=c.match(l)){for(R=_[2],_=_[1],y=0;y<3;y++){var T=y*2;v[y]=parseInt(_.slice(T,T+2),16)}R&&(v[3]=parseInt(R,16)/255)}else if(_=c.match(u)){for(_=_[1],R=_[3],y=0;y<3;y++)v[y]=parseInt(_[y]+_[y],16);R&&(v[3]=parseInt(R+R,16)/255)}else if(_=c.match(m)){for(y=0;y<3;y++)v[y]=parseInt(_[y+1],0);_[4]&&(_[5]?v[3]=parseFloat(_[4])*.01:v[3]=parseFloat(_[4]))}else if(_=c.match(d)){for(y=0;y<3;y++)v[y]=Math.round(parseFloat(_[y+1])*2.55);_[4]&&(_[5]?v[3]=parseFloat(_[4])*.01:v[3]=parseFloat(_[4]))}else return(_=c.match(h))?_[1]==="transparent"?[0,0,0,0]:r.call(t,_[1])?(v=t[_[1]],v[3]=1,v):null:null;for(y=0;y<3;y++)v[y]=a(v[y],0,255);return v[3]=a(v[3],0,1),v},s.get.hsl=function(c){if(!c)return null;var u=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,l=c.match(u);if(l){var m=parseFloat(l[4]),d=(parseFloat(l[1])%360+360)%360,h=a(parseFloat(l[2]),0,100),v=a(parseFloat(l[3]),0,100),_=a(isNaN(m)?1:m,0,1);return[d,h,v,_]}return null},s.get.hwb=function(c){if(!c)return null;var u=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,l=c.match(u);if(l){var m=parseFloat(l[4]),d=(parseFloat(l[1])%360+360)%360,h=a(parseFloat(l[2]),0,100),v=a(parseFloat(l[3]),0,100),_=a(isNaN(m)?1:m,0,1);return[d,h,v,_]}return null},s.to.hex=function(){var c=e(arguments);return"#"+i(c[0])+i(c[1])+i(c[2])+(c[3]<1?i(Math.round(c[3]*255)):"")},s.to.rgb=function(){var c=e(arguments);return c.length<4||c[3]===1?"rgb("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+")":"rgba("+Math.round(c[0])+", "+Math.round(c[1])+", "+Math.round(c[2])+", "+c[3]+")"},s.to.rgb.percent=function(){var c=e(arguments),u=Math.round(c[0]/255*100),l=Math.round(c[1]/255*100),m=Math.round(c[2]/255*100);return c.length<4||c[3]===1?"rgb("+u+"%, "+l+"%, "+m+"%)":"rgba("+u+"%, "+l+"%, "+m+"%, "+c[3]+")"},s.to.hsl=function(){var c=e(arguments);return c.length<4||c[3]===1?"hsl("+c[0]+", "+c[1]+"%, "+c[2]+"%)":"hsla("+c[0]+", "+c[1]+"%, "+c[2]+"%, "+c[3]+")"},s.to.hwb=function(){var c=e(arguments),u="";return c.length>=4&&c[3]!==1&&(u=", "+c[3]),"hwb("+c[0]+", "+c[1]+"%, "+c[2]+"%"+u+")"},s.to.keyword=function(c){return o[c.slice(0,3)]};function a(c,u,l){return Math.min(Math.max(u,c),l)}function i(c){var u=Math.round(c).toString(16).toUpperCase();return u.length<2?"0"+u:u}return gn.exports}var En,ds;function ms(){if(ds)return En;ds=1;const t=is(),e={};for(const n of Object.keys(t))e[t[n]]=n;const r={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};En=r;for(const n of Object.keys(r)){if(!("channels"in r[n]))throw new Error("missing channels property: "+n);if(!("labels"in r[n]))throw new Error("missing channel labels property: "+n);if(r[n].labels.length!==r[n].channels)throw new Error("channel and label counts mismatch: "+n);const{channels:s,labels:a}=r[n];delete r[n].channels,delete r[n].labels,Object.defineProperty(r[n],"channels",{value:s}),Object.defineProperty(r[n],"labels",{value:a})}r.rgb.hsl=function(n){const s=n[0]/255,a=n[1]/255,i=n[2]/255,c=Math.min(s,a,i),u=Math.max(s,a,i),l=u-c;let m,d;u===c?m=0:s===u?m=(a-i)/l:a===u?m=2+(i-s)/l:i===u&&(m=4+(s-a)/l),m=Math.min(m*60,360),m<0&&(m+=360);const h=(c+u)/2;return u===c?d=0:h<=.5?d=l/(u+c):d=l/(2-u-c),[m,d*100,h*100]},r.rgb.hsv=function(n){let s,a,i,c,u;const l=n[0]/255,m=n[1]/255,d=n[2]/255,h=Math.max(l,m,d),v=h-Math.min(l,m,d),_=function(y){return(h-y)/6/v+1/2};return v===0?(c=0,u=0):(u=v/h,s=_(l),a=_(m),i=_(d),l===h?c=i-a:m===h?c=.3333333333333333+s-i:d===h&&(c=.6666666666666666+a-s),c<0?c+=1:c>1&&(c-=1)),[c*360,u*100,h*100]},r.rgb.hwb=function(n){const s=n[0],a=n[1];let i=n[2];const c=r.rgb.hsl(n)[0],u=1/255*Math.min(s,Math.min(a,i));return i=1-.00392156862745098*Math.max(s,Math.max(a,i)),[c,u*100,i*100]},r.rgb.cmyk=function(n){const s=n[0]/255,a=n[1]/255,i=n[2]/255,c=Math.min(1-s,1-a,1-i),u=(1-s-c)/(1-c)||0,l=(1-a-c)/(1-c)||0,m=(1-i-c)/(1-c)||0;return[u*100,l*100,m*100,c*100]};function o(n,s){return(n[0]-s[0])**2+(n[1]-s[1])**2+(n[2]-s[2])**2}return r.rgb.keyword=function(n){const s=e[n];if(s)return s;let a=1/0,i;for(const c of Object.keys(t)){const u=t[c],l=o(n,u);l<a&&(a=l,i=c)}return i},r.keyword.rgb=function(n){return t[n]},r.rgb.xyz=function(n){let s=n[0]/255,a=n[1]/255,i=n[2]/255;s=s>.04045?((s+.055)/1.055)**2.4:s/12.92,a=a>.04045?((a+.055)/1.055)**2.4:a/12.92,i=i>.04045?((i+.055)/1.055)**2.4:i/12.92;const c=s*.4124+a*.3576+i*.1805,u=s*.2126+a*.7152+i*.0722,l=s*.0193+a*.1192+i*.9505;return[c*100,u*100,l*100]},r.rgb.lab=function(n){const s=r.rgb.xyz(n);let a=s[0],i=s[1],c=s[2];a/=95.047,i/=100,c/=108.883,a=a>.008856?a**.3333333333333333:7.787*a+.13793103448275862,i=i>.008856?i**.3333333333333333:7.787*i+.13793103448275862,c=c>.008856?c**.3333333333333333:7.787*c+.13793103448275862;const u=116*i-16,l=500*(a-i),m=200*(i-c);return[u,l,m]},r.hsl.rgb=function(n){const s=n[0]/360,a=n[1]/100,i=n[2]/100;let c,u,l;if(a===0)return l=i*255,[l,l,l];i<.5?c=i*(1+a):c=i+a-i*a;const m=2*i-c,d=[0,0,0];for(let h=0;h<3;h++)u=s+.3333333333333333*-(h-1),u<0&&u++,u>1&&u--,6*u<1?l=m+(c-m)*6*u:2*u<1?l=c:3*u<2?l=m+(c-m)*(.6666666666666666-u)*6:l=m,d[h]=l*255;return d},r.hsl.hsv=function(n){const s=n[0];let a=n[1]/100,i=n[2]/100,c=a;const u=Math.max(i,.01);i*=2,a*=i<=1?i:2-i,c*=u<=1?u:2-u;const l=(i+a)/2,m=i===0?2*c/(u+c):2*a/(i+a);return[s,m*100,l*100]},r.hsv.rgb=function(n){const s=n[0]/60,a=n[1]/100;let i=n[2]/100;const c=Math.floor(s)%6,u=s-Math.floor(s),l=255*i*(1-a),m=255*i*(1-a*u),d=255*i*(1-a*(1-u));switch(i*=255,c){case 0:return[i,d,l];case 1:return[m,i,l];case 2:return[l,i,d];case 3:return[l,m,i];case 4:return[d,l,i];case 5:return[i,l,m]}},r.hsv.hsl=function(n){const s=n[0],a=n[1]/100,i=n[2]/100,c=Math.max(i,.01);let u,l;l=(2-a)*i;const m=(2-a)*c;return u=a*c,u/=m<=1?m:2-m,u=u||0,l/=2,[s,u*100,l*100]},r.hwb.rgb=function(n){const s=n[0]/360;let a=n[1]/100,i=n[2]/100;const c=a+i;let u;c>1&&(a/=c,i/=c);const l=Math.floor(6*s),m=1-i;u=6*s-l,l&1&&(u=1-u);const d=a+u*(m-a);let h,v,_;switch(l){default:case 6:case 0:h=m,v=d,_=a;break;case 1:h=d,v=m,_=a;break;case 2:h=a,v=m,_=d;break;case 3:h=a,v=d,_=m;break;case 4:h=d,v=a,_=m;break;case 5:h=m,v=a,_=d;break}return[h*255,v*255,_*255]},r.cmyk.rgb=function(n){const s=n[0]/100,a=n[1]/100,i=n[2]/100,c=n[3]/100,u=1-Math.min(1,s*(1-c)+c),l=1-Math.min(1,a*(1-c)+c),m=1-Math.min(1,i*(1-c)+c);return[u*255,l*255,m*255]},r.xyz.rgb=function(n){const s=n[0]/100,a=n[1]/100,i=n[2]/100;let c,u,l;return c=s*3.2406+a*-1.5372+i*-.4986,u=s*-.9689+a*1.8758+i*.0415,l=s*.0557+a*-.204+i*1.057,c=c>.0031308?1.055*c**.4166666666666667-.055:c*12.92,u=u>.0031308?1.055*u**.4166666666666667-.055:u*12.92,l=l>.0031308?1.055*l**.4166666666666667-.055:l*12.92,c=Math.min(Math.max(0,c),1),u=Math.min(Math.max(0,u),1),l=Math.min(Math.max(0,l),1),[c*255,u*255,l*255]},r.xyz.lab=function(n){let s=n[0],a=n[1],i=n[2];s/=95.047,a/=100,i/=108.883,s=s>.008856?s**.3333333333333333:7.787*s+.13793103448275862,a=a>.008856?a**.3333333333333333:7.787*a+.13793103448275862,i=i>.008856?i**.3333333333333333:7.787*i+.13793103448275862;const c=116*a-16,u=500*(s-a),l=200*(a-i);return[c,u,l]},r.lab.xyz=function(n){const s=n[0],a=n[1],i=n[2];let c,u,l;u=(s+16)/116,c=a/500+u,l=u-i/200;const m=u**3,d=c**3,h=l**3;return u=m>.008856?m:(u-.13793103448275862)/7.787,c=d>.008856?d:(c-.13793103448275862)/7.787,l=h>.008856?h:(l-.13793103448275862)/7.787,c*=95.047,u*=100,l*=108.883,[c,u,l]},r.lab.lch=function(n){const s=n[0],a=n[1],i=n[2];let c;c=Math.atan2(i,a)*360/2/Math.PI,c<0&&(c+=360);const l=Math.sqrt(a*a+i*i);return[s,l,c]},r.lch.lab=function(n){const s=n[0],a=n[1],c=n[2]/360*2*Math.PI,u=a*Math.cos(c),l=a*Math.sin(c);return[s,u,l]},r.rgb.ansi16=function(n,s=null){const[a,i,c]=n;let u=s===null?r.rgb.hsv(n)[2]:s;if(u=Math.round(u/50),u===0)return 30;let l=30+(Math.round(c/255)<<2|Math.round(i/255)<<1|Math.round(a/255));return u===2&&(l+=60),l},r.hsv.ansi16=function(n){return r.rgb.ansi16(r.hsv.rgb(n),n[2])},r.rgb.ansi256=function(n){const s=n[0],a=n[1],i=n[2];return s===a&&a===i?s<8?16:s>248?231:Math.round((s-8)/247*24)+232:16+36*Math.round(s/255*5)+6*Math.round(a/255*5)+Math.round(i/255*5)},r.ansi16.rgb=function(n){let s=n%10;if(s===0||s===7)return n>50&&(s+=3.5),s=s/10.5*255,[s,s,s];const a=(~~(n>50)+1)*.5,i=(s&1)*a*255,c=(s>>1&1)*a*255,u=(s>>2&1)*a*255;return[i,c,u]},r.ansi256.rgb=function(n){if(n>=232){const u=(n-232)*10+8;return[u,u,u]}n-=16;let s;const a=Math.floor(n/36)/5*255,i=Math.floor((s=n%36)/6)/5*255,c=s%6/5*255;return[a,i,c]},r.rgb.hex=function(n){const a=(((Math.round(n[0])&255)<<16)+((Math.round(n[1])&255)<<8)+(Math.round(n[2])&255)).toString(16).toUpperCase();return"000000".substring(a.length)+a},r.hex.rgb=function(n){const s=n.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!s)return[0,0,0];let a=s[0];s[0].length===3&&(a=a.split("").map(m=>m+m).join(""));const i=parseInt(a,16),c=i>>16&255,u=i>>8&255,l=i&255;return[c,u,l]},r.rgb.hcg=function(n){const s=n[0]/255,a=n[1]/255,i=n[2]/255,c=Math.max(Math.max(s,a),i),u=Math.min(Math.min(s,a),i),l=c-u;let m,d;return l<1?m=u/(1-l):m=0,l<=0?d=0:c===s?d=(a-i)/l%6:c===a?d=2+(i-s)/l:d=4+(s-a)/l,d/=6,d%=1,[d*360,l*100,m*100]},r.hsl.hcg=function(n){const s=n[1]/100,a=n[2]/100,i=a<.5?2*s*a:2*s*(1-a);let c=0;return i<1&&(c=(a-.5*i)/(1-i)),[n[0],i*100,c*100]},r.hsv.hcg=function(n){const s=n[1]/100,a=n[2]/100,i=s*a;let c=0;return i<1&&(c=(a-i)/(1-i)),[n[0],i*100,c*100]},r.hcg.rgb=function(n){const s=n[0]/360,a=n[1]/100,i=n[2]/100;if(a===0)return[i*255,i*255,i*255];const c=[0,0,0],u=s%1*6,l=u%1,m=1-l;let d=0;switch(Math.floor(u)){case 0:c[0]=1,c[1]=l,c[2]=0;break;case 1:c[0]=m,c[1]=1,c[2]=0;break;case 2:c[0]=0,c[1]=1,c[2]=l;break;case 3:c[0]=0,c[1]=m,c[2]=1;break;case 4:c[0]=l,c[1]=0,c[2]=1;break;default:c[0]=1,c[1]=0,c[2]=m}return d=(1-a)*i,[(a*c[0]+d)*255,(a*c[1]+d)*255,(a*c[2]+d)*255]},r.hcg.hsv=function(n){const s=n[1]/100,a=n[2]/100,i=s+a*(1-s);let c=0;return i>0&&(c=s/i),[n[0],c*100,i*100]},r.hcg.hsl=function(n){const s=n[1]/100,i=n[2]/100*(1-s)+.5*s;let c=0;return i>0&&i<.5?c=s/(2*i):i>=.5&&i<1&&(c=s/(2*(1-i))),[n[0],c*100,i*100]},r.hcg.hwb=function(n){const s=n[1]/100,a=n[2]/100,i=s+a*(1-s);return[n[0],(i-s)*100,(1-i)*100]},r.hwb.hcg=function(n){const s=n[1]/100,i=1-n[2]/100,c=i-s;let u=0;return c<1&&(u=(i-c)/(1-c)),[n[0],c*100,u*100]},r.apple.rgb=function(n){return[n[0]/65535*255,n[1]/65535*255,n[2]/65535*255]},r.rgb.apple=function(n){return[n[0]/255*65535,n[1]/255*65535,n[2]/255*65535]},r.gray.rgb=function(n){return[n[0]/100*255,n[0]/100*255,n[0]/100*255]},r.gray.hsl=function(n){return[0,0,n[0]]},r.gray.hsv=r.gray.hsl,r.gray.hwb=function(n){return[0,100,n[0]]},r.gray.cmyk=function(n){return[0,0,0,n[0]]},r.gray.lab=function(n){return[n[0],0,0]},r.gray.hex=function(n){const s=Math.round(n[0]/100*255)&255,i=((s<<16)+(s<<8)+s).toString(16).toUpperCase();return"000000".substring(i.length)+i},r.rgb.gray=function(n){return[(n[0]+n[1]+n[2])/3/255*100]},En}var Sn,fs;function hc(){if(fs)return Sn;fs=1;const t=ms();function e(){const s={},a=Object.keys(t);for(let i=a.length,c=0;c<i;c++)s[a[c]]={distance:-1,parent:null};return s}function r(s){const a=e(),i=[s];for(a[s].distance=0;i.length;){const c=i.pop(),u=Object.keys(t[c]);for(let l=u.length,m=0;m<l;m++){const d=u[m],h=a[d];h.distance===-1&&(h.distance=a[c].distance+1,h.parent=c,i.unshift(d))}}return a}function o(s,a){return function(i){return a(s(i))}}function n(s,a){const i=[a[s].parent,s];let c=t[a[s].parent][s],u=a[s].parent;for(;a[u].parent;)i.unshift(a[u].parent),c=o(t[a[u].parent][u],c),u=a[u].parent;return c.conversion=i,c}return Sn=function(s){const a=r(s),i={},c=Object.keys(a);for(let u=c.length,l=0;l<u;l++){const m=c[l];a[m].parent!==null&&(i[m]=n(m,a))}return i},Sn}var Rn,hs;function pc(){if(hs)return Rn;hs=1;const t=ms(),e=hc(),r={},o=Object.keys(t);function n(a){const i=function(...c){const u=c[0];return u==null?u:(u.length>1&&(c=u),a(c))};return"conversion"in a&&(i.conversion=a.conversion),i}function s(a){const i=function(...c){const u=c[0];if(u==null)return u;u.length>1&&(c=u);const l=a(c);if(typeof l=="object")for(let m=l.length,d=0;d<m;d++)l[d]=Math.round(l[d]);return l};return"conversion"in a&&(i.conversion=a.conversion),i}return o.forEach(a=>{r[a]={},Object.defineProperty(r[a],"channels",{value:t[a].channels}),Object.defineProperty(r[a],"labels",{value:t[a].labels});const i=e(a);Object.keys(i).forEach(u=>{const l=i[u];r[a][u]=s(l),r[a][u].raw=n(l)})}),Rn=r,Rn}var Cn,ps;function _c(){if(ps)return Cn;ps=1;const t=fc(),e=pc(),r=["keyword","gray","hex"],o={};for(const d of Object.keys(e))o[[...e[d].labels].sort().join("")]=d;const n={};function s(d,h){if(!(this instanceof s))return new s(d,h);if(h&&h in r&&(h=null),h&&!(h in e))throw new Error("Unknown model: "+h);let v,_;if(d==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(d instanceof s)this.model=d.model,this.color=[...d.color],this.valpha=d.valpha;else if(typeof d=="string"){const y=t.get(d);if(y===null)throw new Error("Unable to parse color from string: "+d);this.model=y.model,_=e[this.model].channels,this.color=y.value.slice(0,_),this.valpha=typeof y.value[_]=="number"?y.value[_]:1}else if(d.length>0){this.model=h||"rgb",_=e[this.model].channels;const y=Array.prototype.slice.call(d,0,_);this.color=m(y,_),this.valpha=typeof d[_]=="number"?d[_]:1}else if(typeof d=="number")this.model="rgb",this.color=[d>>16&255,d>>8&255,d&255],this.valpha=1;else{this.valpha=1;const y=Object.keys(d);"alpha"in d&&(y.splice(y.indexOf("alpha"),1),this.valpha=typeof d.alpha=="number"?d.alpha:0);const R=y.sort().join("");if(!(R in o))throw new Error("Unable to parse color from object: "+JSON.stringify(d));this.model=o[R];const{labels:T}=e[this.model],j=[];for(v=0;v<T.length;v++)j.push(d[T[v]]);this.color=m(j)}if(n[this.model])for(_=e[this.model].channels,v=0;v<_;v++){const y=n[this.model][v];y&&(this.color[v]=y(this.color[v]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}s.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(d){let h=this.model in t.to?this:this.rgb();h=h.round(typeof d=="number"?d:1);const v=h.valpha===1?h.color:[...h.color,this.valpha];return t.to[h.model](v)},percentString(d){const h=this.rgb().round(typeof d=="number"?d:1),v=h.valpha===1?h.color:[...h.color,this.valpha];return t.to.rgb.percent(v)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const d={},{channels:h}=e[this.model],{labels:v}=e[this.model];for(let _=0;_<h;_++)d[v[_]]=this.color[_];return this.valpha!==1&&(d.alpha=this.valpha),d},unitArray(){const d=this.rgb().color;return d[0]/=255,d[1]/=255,d[2]/=255,this.valpha!==1&&d.push(this.valpha),d},unitObject(){const d=this.rgb().object();return d.r/=255,d.g/=255,d.b/=255,this.valpha!==1&&(d.alpha=this.valpha),d},round(d){return d=Math.max(d||0,0),new s([...this.color.map(i(d)),this.valpha],this.model)},alpha(d){return d!==void 0?new s([...this.color,Math.max(0,Math.min(1,d))],this.model):this.valpha},red:c("rgb",0,u(255)),green:c("rgb",1,u(255)),blue:c("rgb",2,u(255)),hue:c(["hsl","hsv","hsl","hwb","hcg"],0,d=>(d%360+360)%360),saturationl:c("hsl",1,u(100)),lightness:c("hsl",2,u(100)),saturationv:c("hsv",1,u(100)),value:c("hsv",2,u(100)),chroma:c("hcg",1,u(100)),gray:c("hcg",2,u(100)),white:c("hwb",1,u(100)),wblack:c("hwb",2,u(100)),cyan:c("cmyk",0,u(100)),magenta:c("cmyk",1,u(100)),yellow:c("cmyk",2,u(100)),black:c("cmyk",3,u(100)),x:c("xyz",0,u(95.047)),y:c("xyz",1,u(100)),z:c("xyz",2,u(108.833)),l:c("lab",0,u(100)),a:c("lab",1),b:c("lab",2),keyword(d){return d!==void 0?new s(d):e[this.model].keyword(this.color)},hex(d){return d!==void 0?new s(d):t.to.hex(this.rgb().round().color)},hexa(d){if(d!==void 0)return new s(d);const h=this.rgb().round().color;let v=Math.round(this.valpha*255).toString(16).toUpperCase();return v.length===1&&(v="0"+v),t.to.hex(h)+v},rgbNumber(){const d=this.rgb().color;return(d[0]&255)<<16|(d[1]&255)<<8|d[2]&255},luminosity(){const d=this.rgb().color,h=[];for(const[v,_]of d.entries()){const y=_/255;h[v]=y<=.04045?y/12.92:((y+.055)/1.055)**2.4}return .2126*h[0]+.7152*h[1]+.0722*h[2]},contrast(d){const h=this.luminosity(),v=d.luminosity();return h>v?(h+.05)/(v+.05):(v+.05)/(h+.05)},level(d){const h=this.contrast(d);return h>=7?"AAA":h>=4.5?"AA":""},isDark(){const d=this.rgb().color;return(d[0]*2126+d[1]*7152+d[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const d=this.rgb();for(let h=0;h<3;h++)d.color[h]=255-d.color[h];return d},lighten(d){const h=this.hsl();return h.color[2]+=h.color[2]*d,h},darken(d){const h=this.hsl();return h.color[2]-=h.color[2]*d,h},saturate(d){const h=this.hsl();return h.color[1]+=h.color[1]*d,h},desaturate(d){const h=this.hsl();return h.color[1]-=h.color[1]*d,h},whiten(d){const h=this.hwb();return h.color[1]+=h.color[1]*d,h},blacken(d){const h=this.hwb();return h.color[2]+=h.color[2]*d,h},grayscale(){const d=this.rgb().color,h=d[0]*.3+d[1]*.59+d[2]*.11;return s.rgb(h,h,h)},fade(d){return this.alpha(this.valpha-this.valpha*d)},opaquer(d){return this.alpha(this.valpha+this.valpha*d)},rotate(d){const h=this.hsl();let v=h.color[0];return v=(v+d)%360,v=v<0?360+v:v,h.color[0]=v,h},mix(d,h){if(!d||!d.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof d);const v=d.rgb(),_=this.rgb(),y=h===void 0?.5:h,R=2*y-1,T=v.alpha()-_.alpha(),j=((R*T===-1?R:(R+T)/(1+R*T))+1)/2,K=1-j;return s.rgb(j*v.red()+K*_.red(),j*v.green()+K*_.green(),j*v.blue()+K*_.blue(),v.alpha()*y+_.alpha()*(1-y))}};for(const d of Object.keys(e)){if(r.includes(d))continue;const{channels:h}=e[d];s.prototype[d]=function(...v){return this.model===d?new s(this):v.length>0?new s(v,d):new s([...l(e[this.model][d].raw(this.color)),this.valpha],d)},s[d]=function(...v){let _=v[0];return typeof _=="number"&&(_=m(v,h)),new s(_,d)}}function a(d,h){return Number(d.toFixed(h))}function i(d){return function(h){return a(h,d)}}function c(d,h,v){d=Array.isArray(d)?d:[d];for(const _ of d)(n[_]||(n[_]=[]))[h]=v;return d=d[0],function(_){let y;return _!==void 0?(v&&(_=v(_)),y=this[d](),y.color[h]=_,y):(y=this[d]().color[h],v&&(y=v(y)),y)}}function u(d){return function(h){return Math.max(0,Math.min(d,h))}}function l(d){return Array.isArray(d)?d:[d]}function m(d,h){for(let v=0;v<h;v++)typeof d[v]!="number"&&(d[v]=0);return d}return Cn=s,Cn}var vc=_c();const _s=Po(vc),gc=4.5,vs=(t,e,r)=>{Object.entries(e).forEach(([o,n])=>{r.has(o)&&n!==void 0&&(t.style[o]=n)})},gs=(t,e={},r={})=>{if(!t)return;const o=new Set(jt.keyof()._def.values);vs(t,r,o),e.color&&!r.color&&(t.style.color=e.color),e["font-family"]&&!r["font-family"]&&(t.style.fontFamily=e["font-family"])},yc=(t,e={})=>{if(!t)return;const r=e.button??{},o=new Set(go.keyof()._def.values);vs(t,r,o),e["font-family"]&&!r["font-family"]&&(t.style.fontFamily=e["font-family"]);const n=r.color;if(n){const s=wc(n),a=getComputedStyle(t).borderColor;t.addEventListener("mouseenter",()=>{t.style.backgroundColor=n,t.style.borderColor=n,t.style.color=s},{passive:!0}),t.addEventListener("mouseleave",()=>{t.style.backgroundColor="unset",t.style.color=n,t.style.borderColor=r["border-color"]??a},{passive:!0})}},bc=t=>{const e=t.replace("var(","").replace(")","");return getComputedStyle(document.documentElement).getPropertyValue(e).trim()},wc=t=>{const e=[50,100,200,300,400,500,600,700,800,900],r=_s(t);for(const o of e){const n=bc(Oe.colors.grey[o]),s=_s(n);if(r.contrast(s)>=gc)return s.hex()}return r.isDark()?"#fff":"#000"},Ec=(t,e)=>new Intl.NumberFormat(Sc(t),{style:"currency",currency:t}).format(e),Sc=t=>Si.parse(un[t]),Rc=t=>{const e=Bt();return e.cuid&&t.searchParams.append("cuid",e.cuid),e.utmSource&&t.searchParams.append("utm_source",e.utmSource),e.utmMedium&&t.searchParams.append("utm_medium",e.utmMedium),e.utmCampaign&&t.searchParams.append("utm_campaign",e.utmCampaign),e.utmContent&&t.searchParams.append("utm_content",e.utmContent),e.utmTerm&&t.searchParams.append("utm_term",e.utmTerm),e.libraryId&&t.searchParams.append("libId",e.libraryId),t},Cc=(t,e)=>{const{gdpr:r,gpp:o,usp:n}=e;return t.searchParams.append("gdprApplies",r.applies?"true":"false"),r!=null&&r.consent&&t.searchParams.append("gdprConsent",r.consent),o!=null&&o.consent&&t.searchParams.append("gppConsent",o.consent),n!=null&&n.consent&&t.searchParams.append("ccpaConsent",n.consent),t},kc=(t,e)=>{const r=new URL(t);return r.searchParams.append("loc",window.location.href),Cc(Rc(r),e).toString()},Tc=()=>{const[t,e]=He(()=>H.getState().gdpr),[r,o]=He(()=>H.getState().gpp),[n,s]=He(()=>H.getState().usp);return Wo(()=>H.subscribe(i=>({gdpr:i.gdpr,gpp:i.gpp,usp:i.usp}),({gdpr:i,gpp:c,usp:u})=>{e(i),o(c),s(u)}),[]),{gdpr:t,gpp:r,usp:n}},xc=t=>{const[e,r]=He(()=>H.getState().galleries[t].requestStatus),[o,n]=He(()=>H.getState().galleries[t].products),s=H.getState().galleries[t].config,a=(s==null?void 0:s.productCount)??$t.maxProductCount;return Wo(()=>(r(H.getState().galleries[t].requestStatus),n(H.getState().galleries[t].products),H.subscribe(c=>c.galleries[t],({requestStatus:c,products:u})=>{r(c),n(u)})),[t]),{requestStatus:e,products:[...o].slice(0,a),config:s,productCount:a}},kn=Qi(({deepLink:t,children:e,...r},o)=>{const n=Tc();return k("a",{...r,href:kc(t,n),target:"_blank",rel:"nofollow","data-testid":r.testId,ref:o,className:g(r.className,"sovrn-commerce-ai-shopping-gallery-link"),children:e})});kn.displayName="ProductLink";var Y={default:"sovrn-commerce-kzk5jt2 sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt1 sovrn-commerce-kzk5jt0",leaderboardOne:"sovrn-commerce-kzk5jt3 sovrn-commerce-kzk5jt0",leaderboardTwo:"sovrn-commerce-kzk5jt4 sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",superLeaderboardOne:"sovrn-commerce-kzk5jt5 sovrn-commerce-kzk5jt0",superLeaderboardTwo:"sovrn-commerce-kzk5jt6 sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",superLeaderboardThree:"sovrn-commerce-kzk5jt7 sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",mobileLeaderboard:"sovrn-commerce-kzk5jt8 sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",wideSkyscraperOne:"sovrn-commerce-kzk5jt9 sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",wideSkyscraperTwo:"sovrn-commerce-kzk5jta sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",wideSkyscraperThree:"sovrn-commerce-kzk5jtb sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",mediumRectangleCenter:"sovrn-commerce-kzk5jtc sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",mediumRectangleLeft:"sovrn-commerce-kzk5jtd sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",halfPageOneCenter:"sovrn-commerce-kzk5jte sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",halfPageTwoCenter:"sovrn-commerce-kzk5jtf sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0",halfPageTwoLeft:"sovrn-commerce-kzk5jtg sovrn-commerce-128em2u0 sovrn-commerce-kzk5jt0"};const Ac=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>g(Y.leaderboardOne,w.title)).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>g(Y.leaderboardTwo,w.title)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>g(Y.superLeaderboardOne,w.title)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>g(Y.superLeaderboardTwo,w.title)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>g(Y.superLeaderboardThree,w.title)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>g(Y.wideSkyscraperOne,w.title)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>g(Y.wideSkyscraperTwo,w.title)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>g(Y.wideSkyscraperThree,w.title)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>g(Y.mediumRectangleCenter,w.title)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>g(Y.mediumRectangleLeft,w.title)).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>g(Y.mobileLeaderboard,w.title)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE,alignment:P.enum.CENTER},()=>g(Y.halfPageOneCenter,w.title)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.LEFT},()=>g(Y.halfPageTwoLeft,w.title)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.CENTER},()=>g(Y.halfPageTwoCenter,w.title)).otherwise(()=>g(Y.default,w.title));var J={default:"sovrn-commerce-fv1lmd1 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",leaderboardOne:"sovrn-commerce-fv1lmd2 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",leaderboardTwo:"sovrn-commerce-fv1lmd3 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",superLeaderboardOne:"sovrn-commerce-fv1lmd4 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",superLeaderboardTwo:"sovrn-commerce-fv1lmd5 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",superLeaderboardThree:"sovrn-commerce-fv1lmd6 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",mobileLeaderboard:"sovrn-commerce-fv1lmd7 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",wideSkyscraperOne:"sovrn-commerce-fv1lmd8 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",wideSkyscraperTwo:"sovrn-commerce-fv1lmd9 sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",wideSkyscraperThree:"sovrn-commerce-fv1lmda sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",mediumRectangleCenter:"sovrn-commerce-fv1lmdb sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",mediumRectangleLeft:"sovrn-commerce-fv1lmdc sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",halfPageOneCenter:"sovrn-commerce-fv1lmdd sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",halfPageTwoCenter:"sovrn-commerce-fv1lmde sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0",halfPageTwoLeft:"sovrn-commerce-fv1lmdf sovrn-commerce-fv1lmd0 sovrn-commerce-128em2u0"};const Oc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>g(J.leaderboardOne,w.price)).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>g(J.leaderboardTwo,w.price)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>g(J.superLeaderboardOne,w.price)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>g(J.superLeaderboardTwo,w.price)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>g(J.superLeaderboardThree,w.price)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>g(J.wideSkyscraperOne,w.price)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>g(J.wideSkyscraperTwo,w.price)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>g(J.wideSkyscraperThree,w.price)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>g(J.mediumRectangleCenter,w.price)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>g(J.mediumRectangleLeft,w.price)).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>g(J.mobileLeaderboard,w.price)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE,alignment:P.enum.CENTER},()=>g(J.halfPageOneCenter,w.price)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.CENTER},()=>g(J.halfPageTwoCenter,w.price)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.LEFT},()=>g(J.halfPageTwoLeft,w.price)).otherwise(()=>g(J.default,w.price));var fe={default:"sovrn-commerce-f0txlm1 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",leaderboardOne:"sovrn-commerce-f0txlm2 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",leaderboardTwo:"sovrn-commerce-f0txlm3 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",superLeaderboardOne:"sovrn-commerce-f0txlm4 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",superLeaderboardTwo:"sovrn-commerce-f0txlm5 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",superLeaderboardThree:"sovrn-commerce-f0txlm6 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",mobileLeaderboard:"sovrn-commerce-f0txlm7 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",wideSkyscraperOne:"sovrn-commerce-f0txlm8 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",wideSkyscraperTwo:"sovrn-commerce-f0txlm9 sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",wideSkyscraperThree:"sovrn-commerce-f0txlma sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",mediumRectangleCenter:"sovrn-commerce-f0txlmb sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",mediumRectangleLeft:"sovrn-commerce-f0txlmc sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0",halfPage:"sovrn-commerce-f0txlmd sovrn-commerce-f0txlm0 sovrn-commerce-128em2u0"};const Pc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>g(fe.leaderboardOne,w.button)).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>g(fe.leaderboardTwo,w.button)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>g(fe.superLeaderboardOne,w.button)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>g(fe.superLeaderboardTwo,w.button)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>g(fe.superLeaderboardThree,w.button)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>g(fe.wideSkyscraperOne,w.button)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>g(fe.wideSkyscraperTwo,w.button)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>g(fe.wideSkyscraperThree,w.button)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>g(fe.mediumRectangleCenter,w.button)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>g(fe.mediumRectangleLeft,w.button)).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>g(fe.mobileLeaderboard,w.button)).with({adUnitSize:f.enum.HALF_PAGE},()=>g(fe.halfPage,w.button)).otherwise(()=>g(fe.default,w.button));var X={default:"sovrn-commerce-dtm4nf2 sovrn-commerce-dtm4nf0",leaderboardOne:"sovrn-commerce-dtm4nf3 sovrn-commerce-dtm4nf1",leaderboardTwo:"sovrn-commerce-dtm4nf4 sovrn-commerce-dtm4nf1",superLeaderboardOne:"sovrn-commerce-dtm4nf5 sovrn-commerce-dtm4nf1",superLeaderboardTwo:"sovrn-commerce-dtm4nf6 sovrn-commerce-dtm4nf1",superLeaderboardThree:"sovrn-commerce-dtm4nf7 sovrn-commerce-dtm4nf1",mobileLeaderboard:"sovrn-commerce-dtm4nf8 sovrn-commerce-dtm4nf1",wideSkyscraperOne:"sovrn-commerce-dtm4nf9 sovrn-commerce-dtm4nf0",wideSkyscraperTwo:"sovrn-commerce-dtm4nfa sovrn-commerce-dtm4nf0",wideSkyscraperThree:"sovrn-commerce-dtm4nfb sovrn-commerce-dtm4nf0",mediumRectangleCenter:"sovrn-commerce-dtm4nfc sovrn-commerce-dtm4nf0",mediumRectangleLeft:"sovrn-commerce-dtm4nfd sovrn-commerce-dtm4nf0",halfPageOneCenter:"sovrn-commerce-dtm4nfe sovrn-commerce-dtm4nf0",halfPageTwoLeft:"sovrn-commerce-dtm4nff sovrn-commerce-dtm4nf0",halfPageTwoCenter:"sovrn-commerce-dtm4nfg sovrn-commerce-dtm4nf0"},ys="sovrn-commerce-dtm4nfh",bs="sovrn-commerce-dtm4nfi",ws="sovrn-commerce-dtm4nfj",Lc="sovrn-commerce-dtm4nfk";const Dc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>g(X.leaderboardOne,w.container)).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>g(X.leaderboardTwo,w.container)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>g(X.superLeaderboardOne,w.container)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>g(X.superLeaderboardTwo,w.container)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>g(X.superLeaderboardThree,w.container)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>g(X.wideSkyscraperOne,w.container)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>g(X.wideSkyscraperTwo,w.container)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>g(X.wideSkyscraperThree,w.container)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>g(X.mediumRectangleCenter,w.container)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>g(X.mediumRectangleLeft,w.container)).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>g(X.mobileLeaderboard,w.container)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE,alignment:P.enum.CENTER},()=>g(X.halfPageOneCenter,w.container)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.CENTER},()=>g(X.halfPageTwoCenter,w.container)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.LEFT},()=>g(X.halfPageTwoLeft,w.container)).otherwise(()=>g(X.default,w.container));var Q={default:"sovrn-commerce-16toxta0",leaderboardOne:"sovrn-commerce-16toxta1",leaderboardTwo:"sovrn-commerce-16toxta2",superLeaderboardOne:"sovrn-commerce-16toxta3",superLeaderboardTwo:"sovrn-commerce-16toxta4",superLeaderboardThree:"sovrn-commerce-16toxta5",mobileLeaderboard:"sovrn-commerce-16toxta6",wideSkyscraperOne:"sovrn-commerce-16toxta7",wideSkyscraperTwo:"sovrn-commerce-16toxta8",wideSkyscraperThree:"sovrn-commerce-16toxta9",mediumRectangleCenter:"sovrn-commerce-16toxtaa",mediumRectangleLeft:"sovrn-commerce-16toxtab",halfPageOneCenter:"sovrn-commerce-16toxtac",halfPageTwoCenter:"sovrn-commerce-16toxtad",halfPageTwoLeft:"sovrn-commerce-16toxtae"},ee={default:"sovrn-commerce-16toxtag sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",error:"sovrn-commerce-16toxtah sovrn-commerce-128em2u0",leaderboardOne:"sovrn-commerce-16toxtai sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",leaderboardTwo:"sovrn-commerce-16toxtaj sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",superLeaderboardOne:"sovrn-commerce-16toxtak sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",superLeaderboardTwo:"sovrn-commerce-16toxtal sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",superLeaderboardThree:"sovrn-commerce-16toxtam sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",mobileLeaderboard:"sovrn-commerce-16toxtan sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",wideSkyscraperOne:"sovrn-commerce-16toxtao sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",wideSkyscraperTwo:"sovrn-commerce-16toxtap sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",wideSkyscraperThree:"sovrn-commerce-16toxtaq sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",mediumRectangleCenter:"sovrn-commerce-16toxtar sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",mediumRectangleLeft:"sovrn-commerce-16toxtas sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",halfPageOne:"sovrn-commerce-16toxtat sovrn-commerce-16toxtaf sovrn-commerce-128em2u0",halfPageTwo:"sovrn-commerce-16toxtau sovrn-commerce-16toxtaf sovrn-commerce-128em2u0"};const Uc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>g(Q.leaderboardOne,w.imageWrapper)).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>g(Q.leaderboardTwo,w.imageWrapper)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>g(Q.superLeaderboardOne,w.imageWrapper)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>g(Q.superLeaderboardTwo,w.imageWrapper)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>g(Q.superLeaderboardThree,w.imageWrapper)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>g(Q.wideSkyscraperOne,w.imageWrapper)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>g(Q.wideSkyscraperTwo,w.imageWrapper)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>g(Q.wideSkyscraperThree,w.imageWrapper)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>g(Q.mediumRectangleCenter,w.image)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>g(Q.mediumRectangleLeft,w.image)).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>g(Q.mobileLeaderboard,w.imageWrapper)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE,alignment:P.enum.CENTER},()=>g(Q.halfPageOneCenter,w.imageWrapper)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.CENTER},()=>g(Q.halfPageTwoCenter,w.imageWrapper)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.LEFT},()=>g(Q.halfPageTwoLeft,w.imageWrapper)).otherwise(()=>g(Q.default,w.imageWrapper)),Es=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>g(ee.leaderboardOne,w.image)).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>g(ee.leaderboardTwo,w.image)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>g(ee.superLeaderboardOne,w.image)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>g(ee.superLeaderboardTwo,w.image)).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>g(ee.superLeaderboardThree,w.image)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>g(ee.wideSkyscraperOne,w.image)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>g(ee.wideSkyscraperTwo,w.image)).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>g(ee.wideSkyscraperThree,w.image)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>g(ee.mediumRectangleCenter,w.image)).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>g(ee.mediumRectangleLeft,w.image)).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>g(ee.mobileLeaderboard,w.image)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE},()=>g(ee.halfPageOne,w.image)).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO},()=>g(ee.halfPageTwo,w.image)).otherwise(()=>g(ee.default,w.image)),Nc=t=>g(Es(t),ee.error),zc=Ke("ProductImage"),Er=({config:t,product:{id:e,name:r,imageURL:o,thumbnailURL:n,deepLink:s,merchant:a}})=>{const[i,c]=He(!1),[u,l]=He(!1),[m,d]=He(o),h=()=>{if(!u&&n)l(!0),d(n);else{c(!0);const v=ue({name:"PRODUCT_IMAGE_LOAD_ERROR",message:`Failed to load image for product: ${e} - ${r} :: merchant ${a.id}`});zc.error(v),Ao(v)}};return k(kn,{deepLink:s,className:Uc(t),testId:w.imageWrapper,"aria-label":r,children:i?k("div",{role:"img",className:Nc(t),"data-testid":w.imageError}):k("img",{"data-testid":w.image,"aria-label":r,role:"img",src:m,alt:r,className:Es(t),onError:h},`${m}-${u?"thumbnail":"primary"}`)})},Sr=({product:t,config:e})=>{const r=qt();return yr(()=>{gs(r.current,e,e==null?void 0:e.title)},[r,e]),k("div",{className:Ac(e),ref:r,"data-testid":w.title,children:t.name})},Rr=({product:t,config:e})=>{const r=qt(),o=Ec(t.currency,t.salePrice);return yr(()=>{gs(r.current,e,e==null?void 0:e.price)},[r,e]),k("div",{className:Oc(e),ref:r,"data-testid":w.price,children:o})},Cr=({product:t,config:e})=>{var n;const r=qt(),o=((n=e==null?void 0:e.button)==null?void 0:n.innerText)??"Buy now";return yr(()=>{yc(r.current,e)},[r,e]),k(kn,{deepLink:t.deepLink,className:Pc(e),testId:w.button,"aria-label":o,ref:r,children:o})},kr=({product:t,galleryId:e,children:r,config:o})=>{const n=Ji(e,t.id);return k("div",{className:Dc(o),id:n,children:r})},jc=b.object({product:wo,config:cn.optional()}),Ic=({product:t,config:e,galleryId:r})=>{const o=jc.parse({product:t,config:e});return $(e).with({adUnitSize:ot.when(n=>n===f.enum.LEADERBOARD||n===f.enum.SUPER_LEADERBOARD),productCount:p.enum.ONE},()=>k(kr,{galleryId:r,...o,children:[k(Er,{...o}),k("div",{className:Lc,children:[k(Sr,{...o}),k(Rr,{...o})]}),k(Cr,{...o})]})).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>k(kr,{galleryId:r,...o,children:[k(Er,{...o}),k("div",{children:[k(Sr,{...o}),k(Rr,{...o})]}),k(Cr,{...o})]})).with({adUnitSize:ot.when(n=>n===f.enum.LEADERBOARD||n===f.enum.SUPER_LEADERBOARD),productCount:ot.when(n=>n===p.enum.TWO||n===p.enum.THREE)},()=>k(kr,{galleryId:r,...o,children:[k("div",{className:bs,children:k(Er,{...o})}),k("div",{className:ws,children:[k(Sr,{...o}),k("div",{className:ys,children:[k(Rr,{...o}),k(Cr,{...o})]})]})]})).otherwise(()=>k(kr,{galleryId:r,...o,children:[k(Er,{...o}),k(Sr,{...o}),k(Rr,{...o}),k(Cr,{...o})]}))},Wt={container:"product-skeleton-container",image:"product-skeleton-image",title:"product-skeleton-title",price:"product-skeleton-price",button:"product-skeleton-button"};var he={default:"sovrn-commerce-wryjb2 sovrn-commerce-dtm4nf0",leaderboardOne:"sovrn-commerce-wryjb3 sovrn-commerce-dtm4nf1",leaderboardTwo:"sovrn-commerce-wryjb4 sovrn-commerce-dtm4nf1",superLeaderboardOne:"sovrn-commerce-wryjb5 sovrn-commerce-dtm4nf1",superLeaderboardTwo:"sovrn-commerce-wryjb6 sovrn-commerce-dtm4nf1",superLeaderboardThree:"sovrn-commerce-wryjb7 sovrn-commerce-dtm4nf1",mobileLeaderboard:"sovrn-commerce-wryjb8 sovrn-commerce-dtm4nf1",wideSkyscraperOne:"sovrn-commerce-wryjb9 sovrn-commerce-dtm4nf0",wideSkyscraperTwo:"sovrn-commerce-wryjba sovrn-commerce-dtm4nf0",wideSkyscraperThree:"sovrn-commerce-wryjbb sovrn-commerce-dtm4nf0",mediumRectangleCenter:"sovrn-commerce-wryjbc sovrn-commerce-dtm4nf0",mediumRectangleLeft:"sovrn-commerce-wryjbd sovrn-commerce-dtm4nf0",halfPage:"sovrn-commerce-wryjbe sovrn-commerce-dtm4nf0"},te={default:"sovrn-commerce-wryjbf sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardOne:"sovrn-commerce-wryjbg sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardTwo:"sovrn-commerce-wryjbh sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardOne:"sovrn-commerce-wryjbi sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardTwo:"sovrn-commerce-wryjbj sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardThree:"sovrn-commerce-wryjbk sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mobileLeaderboard:"sovrn-commerce-wryjbl sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperOne:"sovrn-commerce-wryjbm sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperTwo:"sovrn-commerce-wryjbn sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperThree:"sovrn-commerce-wryjbo sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mediumRectangleCenter:"sovrn-commerce-wryjbp sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mediumRectangleLeft:"sovrn-commerce-wryjbq sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageOneCenter:"sovrn-commerce-wryjbr sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageTwoCenter:"sovrn-commerce-wryjbs sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageTwoLeft:"sovrn-commerce-wryjbt sovrn-commerce-16toxtaf sovrn-commerce-128em2u0 sovrn-commerce-wryjb1"},ie={default:"sovrn-commerce-wryjbu sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardOne:"sovrn-commerce-wryjbv sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardTwo:"sovrn-commerce-wryjbw sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardOne:"sovrn-commerce-wryjbx sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardTwo:"sovrn-commerce-wryjby sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardThree:"sovrn-commerce-wryjbz sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mobileLeaderboard:"sovrn-commerce-wryjb10 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperOne:"sovrn-commerce-wryjb11 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperTwo:"sovrn-commerce-wryjb12 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperThree:"sovrn-commerce-wryjb13 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mediumRectangle:"sovrn-commerce-wryjb14 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageOneCenter:"sovrn-commerce-wryjb15 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageTwoCenter:"sovrn-commerce-wryjb16 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageTwoLeft:"sovrn-commerce-wryjb17 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1"},re={default:"sovrn-commerce-wryjb18 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardOne:"sovrn-commerce-wryjb19 sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardTwo:"sovrn-commerce-wryjb1a sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardOne:"sovrn-commerce-wryjb1b sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardTwo:"sovrn-commerce-wryjb1c sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardThree:"sovrn-commerce-wryjb1d sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mobileLeaderboard:"sovrn-commerce-wryjb1e sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperOne:"sovrn-commerce-wryjb1f sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperTwo:"sovrn-commerce-wryjb1g sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperThree:"sovrn-commerce-wryjb1h sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mediumRectangleCenter:"sovrn-commerce-wryjb1i sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mediumRectangleLeft:"sovrn-commerce-wryjb1j sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageOneCenter:"sovrn-commerce-wryjb1k sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageTwoCenter:"sovrn-commerce-wryjb1l sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPageTwoLeft:"sovrn-commerce-wryjb1m sovrn-commerce-128em2u0 sovrn-commerce-wryjb1"},pe={default:"sovrn-commerce-wryjb1n sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardOne:"sovrn-commerce-wryjb1o sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",leaderboardTwo:"sovrn-commerce-wryjb1p sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardOne:"sovrn-commerce-wryjb1q sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardTwo:"sovrn-commerce-wryjb1r sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",superLeaderboardThree:"sovrn-commerce-wryjb1s sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mobileLeaderboard:"sovrn-commerce-wryjb1t sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperOne:"sovrn-commerce-wryjb1u sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperTwo:"sovrn-commerce-wryjb1v sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",wideSkyscraperThree:"sovrn-commerce-wryjb1w sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mediumRectangleCenter:"sovrn-commerce-wryjb1x sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",mediumRectangleLeft:"sovrn-commerce-wryjb1y sovrn-commerce-128em2u0 sovrn-commerce-wryjb1",halfPage:"sovrn-commerce-wryjb1z sovrn-commerce-128em2u0 sovrn-commerce-wryjb1"};const Mc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>he.leaderboardOne).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>he.leaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>he.superLeaderboardOne).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>he.superLeaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>he.superLeaderboardThree).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>he.wideSkyscraperOne).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>he.wideSkyscraperTwo).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>he.wideSkyscraperThree).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>he.mediumRectangleCenter).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>he.mediumRectangleLeft).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>he.mobileLeaderboard).with({adUnitSize:f.enum.HALF_PAGE},()=>he.halfPage).otherwise(()=>he.default),$c=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>pe.leaderboardOne).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>pe.leaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>pe.superLeaderboardOne).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>pe.superLeaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>pe.superLeaderboardThree).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>pe.wideSkyscraperOne).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>pe.wideSkyscraperTwo).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>pe.wideSkyscraperThree).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>pe.mediumRectangleCenter).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>pe.mediumRectangleLeft).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>pe.mobileLeaderboard).with({adUnitSize:f.enum.HALF_PAGE},()=>pe.halfPage).otherwise(()=>pe.default),Bc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>te.leaderboardOne).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>te.leaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>te.superLeaderboardOne).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>te.superLeaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>te.superLeaderboardThree).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>te.wideSkyscraperOne).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>te.wideSkyscraperTwo).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>te.wideSkyscraperThree).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>te.mediumRectangleCenter).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>te.mediumRectangleLeft).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>te.mobileLeaderboard).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE,alignment:P.enum.CENTER},()=>te.halfPageOneCenter).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.CENTER},()=>te.halfPageTwoCenter).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.LEFT},()=>te.halfPageTwoLeft).otherwise(()=>te.default),Gc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>re.leaderboardOne).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>re.leaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>re.superLeaderboardOne).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>re.superLeaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>re.superLeaderboardThree).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>re.wideSkyscraperOne).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>re.wideSkyscraperTwo).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>re.wideSkyscraperThree).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.CENTER},()=>re.mediumRectangleCenter).with({adUnitSize:f.enum.MEDIUM_RECTANGLE,alignment:P.enum.LEFT},()=>re.mediumRectangleLeft).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>re.mobileLeaderboard).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE,alignment:P.enum.CENTER},()=>re.halfPageOneCenter).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.LEFT},()=>re.halfPageTwoLeft).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.CENTER},()=>re.halfPageTwoCenter).otherwise(()=>re.default),Wc=t=>$(t).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.ONE},()=>ie.leaderboardOne).with({adUnitSize:f.enum.LEADERBOARD,productCount:p.enum.TWO},()=>ie.leaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.ONE},()=>ie.superLeaderboardOne).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>ie.superLeaderboardTwo).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.THREE},()=>ie.superLeaderboardThree).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.ONE},()=>ie.wideSkyscraperOne).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.TWO},()=>ie.wideSkyscraperTwo).with({adUnitSize:f.enum.WIDE_SKYSCRAPER,productCount:p.enum.THREE},()=>ie.wideSkyscraperThree).with({adUnitSize:f.enum.MEDIUM_RECTANGLE},()=>ie.mediumRectangle).with({adUnitSize:f.enum.MOBILE_LEADERBOARD},()=>ie.mobileLeaderboard).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.ONE,alignment:P.enum.CENTER},()=>ie.halfPageOneCenter).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.CENTER},()=>ie.halfPageTwoCenter).with({adUnitSize:f.enum.HALF_PAGE,productCount:p.enum.TWO,alignment:P.enum.LEFT},()=>ie.halfPageTwoLeft).otherwise(()=>ie.default),Tr=({config:t,children:e})=>k("div",{"data-testid":Wt.container,className:Mc(t),children:e}),q=({config:t,variant:e})=>{const r=qt();return yr(()=>{r.current&&Zc(r.current,t)},[t,r]),k("div",{ref:r,...Fc(e,t)})};function Fc(t,e){return $(t).with("image",()=>({"data-testid":Wt.image,className:Bc(e)})).with("title",()=>({"data-testid":Wt.title,className:Wc(e)})).with("price",()=>({"data-testid":Wt.price,className:Gc(e)})).with("button",()=>({"data-testid":Wt.button,className:$c(e)})).exhaustive()}function Zc(t,e){var r;(r=e==null?void 0:e.button)!=null&&r["border-radius"]&&(t.style.borderRadius=e.button["border-radius"])}const Hc=({config:t})=>$(t).with({adUnitSize:ot.when(e=>e===f.enum.LEADERBOARD||e===f.enum.SUPER_LEADERBOARD),productCount:p.enum.ONE},()=>k(Tr,{config:t,children:[k(q,{variant:"image",config:t}),k("div",{children:[k(q,{variant:"title",config:t}),k(q,{variant:"price",config:t})]}),k(q,{variant:"button",config:t})]})).with({adUnitSize:f.enum.SUPER_LEADERBOARD,productCount:p.enum.TWO},()=>k(Tr,{config:t,children:[k(q,{variant:"image",config:t}),k("div",{children:[k(q,{variant:"title",config:t}),k(q,{variant:"price",config:t})]}),k(q,{variant:"button",config:t})]})).with({adUnitSize:ot.when(e=>e===f.enum.LEADERBOARD||e===f.enum.SUPER_LEADERBOARD),productCount:ot.when(e=>e===p.enum.TWO||e===p.enum.THREE)},()=>k(Tr,{config:t,children:[k("div",{className:bs,children:k(q,{variant:"image",config:t})}),k("div",{className:ws,children:[k(q,{variant:"title",config:t}),k("div",{className:ys,children:[k(q,{variant:"price",config:t}),k(q,{variant:"button",config:t})]})]})]})).otherwise(()=>k(Tr,{config:t,children:[k(q,{variant:"image",config:t}),k(q,{variant:"title",config:t}),k(q,{variant:"price",config:t}),k(q,{variant:"button",config:t})]})),Ss=()=>k("link",{rel:"stylesheet",href:`${er.commerceJsDistBaseUrl}/commerce-js.css`});Ss.displayName="CommerceJSStylesheet";const qc=({galleryId:t})=>{const{config:e,requestStatus:r,products:o,productCount:n}=xc(t);return k(ze,{children:[k(Ss,{}),k("div",{className:Mi(e),"data-testid":`shopping-gallery-${t}`,children:k("div",{className:$i(e),children:$(r).with("loading",()=>Array.from({length:n}).map((s,a)=>k(Hc,{config:e},a))).with("success",()=>o.map(s=>k(Ic,{product:s,config:e,galleryId:`gallery-${s.id}`},s.id))).otherwise(()=>null)})})]})},Rs=new Fn("generateShoppingGallery"),Kc=async()=>{await Fi(),Rs.info("Rendering shopping galleries"),Uo().forEach(e=>{const r=Bi(e),o=Hi();qi(e,o),H.getState().addGallery(o,r);const n=e.attachShadow({mode:"open"});Ls(k(qc,{galleryId:o},o),n)})},Vc=()=>{throw ue({name:"SHOPPING_GALLERY_ERROR",message:"Google Ad Manager is not supported yet"})},Cs=async(t=Ue.enum.DIRECT)=>{try{await $(t).with(Ue.enum.DIRECT,async()=>await Kc()).with(Ue.enum.GOOGLE_AD_MANAGER,()=>Vc()).exhaustive(),await H.getState().fetchProducts()}catch(e){Rs.warn(e)}},Yc={load:()=>{Jc();const{commerceJsDistBaseUrl:t}=er,e=document.createElement("link");e.id="commerce-js-stylesheet",e.rel="stylesheet",e.href=`${t}/commerce-js.css`,document.head.appendChild(e)}},Jc=()=>{const t=document.getElementById("commerce-js-stylesheet");t&&t.remove()},Te=Ke("window.__commercejs"),Xc={onConsentChange:t=>{const{data:e,success:r,error:o}=So.safeParse(t);if(!r){Te.error("onConsentChange",o);return}Te.debug("onConsentChange",e),H.setState(n=>(n.gdpr.applies=e.gdprApplies,n.gdpr.consent=e.gdprConsent,n.usp.consent=e.ccpaConsent,n))},onGPPChange:t=>{const{data:e,success:r,error:o}=Ro.safeParse(t);if(!r){Te.error("onGPPChange",o);return}Te.debug("onGPPChange",e),H.setState(n=>(n.gpp.consent=e.gppConsent,n))},onLibReady:()=>{Te.debug("viglink-javascript is ready")},fetchProductRecommendations:()=>{Te.debug("fetchProductRecommendations");const t=Bt();if(!t){Te.error("No configuration found");return}Cs(t.context)}},Qc=()=>{try{const t=new Proxy(Xc,{set(e,r,o){return typeof e[r]=="function"?(Te.error(`Attempt to overwrite method "${String(r)}" is not allowed`),!1):(Te.debug("commercejsAPI",r,o),e[r]=o,!0)}});gr().__commercejs=t}catch(t){Te.error("Failed to initialize CommerceJS API",t)}},eu=Ke("main"),tu=t=>{try{if(!t.apiKey)throw ue({name:"CONFIGURATION_ERROR",message:"Sovrn Commerce API key is required"});const{setConfiguration:e}=H.getState();e(t),Qc(),Yc.load(),Cs(t.context)}catch(e){eu.error(e)}};return Ae.init=tu,Object.defineProperty(Ae,Symbol.toStringTag,{value:"Module"}),Ae}({});
